#summary Point & Click Programming Guide for Open eSignForms
#labels Phase-Support,Phase-Implementation

<table width="100%"><tr>
<td width="50%">[http://open.esignforms.com http://open.esignforms.com/images/OpenESignFormsLogo.gif]</td>
<td width="50%" align="right">[http://www.yozons.com http://www.yozons.com/images/logoSmall.gif]</td>
</tr></table>

<h1>Point & Click Programming Guide</h1>

==== How-To Guides ====
  * [HowToGuides Concepts, Tips & Tricks] (Read first)
  * [UserGuide User's Guide] (Read first)
  * [SystemAdminGuide System Administrator's Guide]
  * *[ProgrammingGuide Point & Click Programming Guide]* (this guide)
  * [ProgrammingTutorial Point & Click Programming Tutorial]

==== Table of contents ====
<wiki:toc max_depth="3" />

= Introduction =

All customization and programming of documents, workflows and emails is done through the web-based interface. *No programmers are needed.* For those who prefer to have professional help, though, Yozons has partnered with other companies that offer professional services to handle all of your needs, or perhaps to get you started so that you can then just make new versions as necessary going forward.

The joy, power and control of Open eSignForm's Point & Click Programming is unique. Those who have outgrown the limitations of mass-marketed, one-size-fits-all alternatives will be favorably impressed by our alternative. The most "tricky" part when building a document is to use notation like {{{'${firstName}'}}} in your document where you want an input field to enter someone's first name. Check out our [ProgrammingTutorial Programming Tutorial] for a step-by-step learning approach.

Open eSignForms is based on over 10 years of developing hand-coded (in Java and JSP), custom electronic signature and electronic contracting solutions for thousands of customers across a wide range of verticals. It all started with GE Capital, then Schwab, Enterprise, Citrix, Pitney Bowes, several colleges and universities, and eventually a large number of financing companies, sales departments, HR departments, consulting and other small businesses. 

Even Yozons found it hard to keep a large group of dedicated, talented software professionals who could meet the growing demand for our custom-built solutions, and we charge $125 to $250 per hour. The only solution was to stop training yet another programmer, and instead focus on making customized solutions a do-it-yourself option, with no programming experience required.

_Programming is much easier if you have a Full HD or better monitor to give you adequate "screen real estate" to edit the document, fields, etc._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

= Programming overview http://open.esignforms.com/images/HowToGuidesWiki/programmingIcon.png =

All programming is done by opening the Programming menu item, which includes links to the [#Libraries Libraries], [#Packages Packages], [#Transaction_Templates Transaction Templates] and [#Report_Templates Report Templates].

The general idea is that you create a library to hold all of your documents, images/logos, email templates, configurable properties and the like. If you have multiple independent companies or departments sharing the same system, you may want to have each work in their own libraries. 

Then, once you have your documents ready, you create a package template that defines one or more documents that you want to process together. The package also specifies custom processing rules as well as defines the data fields from your documents that you allow to be included in custom reports.

Then, once your package is ready, you can create one or more transaction templates that will use the package. This gives you the opportunity to create multiple transactions using the same package, but with each specifying a distinct "branding library" that can override images/logos and property values, and each with distinct permissions.

And finally, you can build custom reports that specify which data fields to include for easy tracking, searching and control of transactions, as well as make available for download in Excel or CSV format.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

= Libraries http://open.esignforms.com/images/HowToGuidesWiki/librariesIcon.png =

When you click on *Programming->Libraries* from the menu, you will see a list of libraries that are available to you. 

Click on a library to view or configure it. To create a new library, you must select a template library or an existing library you have permission to access and click the *Create new empty library* button.

(_Note: To program the *contents* of a library, open the *[#Library_programming Programming->Libraries]* arrow to reveal each library you are allowed to view or program and then click on the desired library to access its components._)

There is one special library, *ESF/Library/Template*, that provides a minimal, common set of documents, logos, emails and properties for a working system "out of the box." It includes platform-specific emails, too, such as those related to password issues and the default notification to a party to access a transaction. In general, you will not make any changes to this library. 

Configuring a library is straightforward:

http://open.esignforms.com/images/HowToGuidesWiki/libraryEdit.png

  * For an actively used library, ensure it is *Enabled*. You can mark it as *Disabled* if the library is no longer going to be used.
  * The *[HowToGuides#EsfNames_and_PathNames PathName]* should identify the purpose or group that will control its contents.
  * The *Description* is a short phrase that describes the purpose of the library.
  * The *Default document style* is the [#Document_styles document style] that new documents you create in the library will use. This helps ensure your documents have a common look. The *ESF/Library/Template* contains a default *ESF_DefaultDocumentStyle* that can be used for a modern, fresh, easy to read look.
  * The *Comments* can be used to maintain notes regarding the library.
  * The *Permissions to access this library* are the standard List, View Details, Create, Update and Delete. Just select which groups should be allowed to do those operations. Note that this also applies to all of the components defined in the library, as they do not have independent permissions.  That is, all components in a library share the permissions defined for the library itself.

Click the *Create new empty library* to create a new, empty library. Currently, there is no "create like" for a library as we do not want to encourage putting the same documents in multiple libraries to avoid confusion.

Click the *[#Library_export_config Export config]* button to download the configuration for one or more components defined in the library as an XML file. This file is suitable to be imported in another library, whether in the same deployment or in another.

Click the *[#Library_import_config Import config]* button to upload the configuration previously exported and then select which components to add to the library.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Library export config ==

Click on the *Export config* button in a library to select which components you'd like to export (download to your computer):

http://open.esignforms.com/images/HowToGuidesWiki/libraryExport.png

By default, no components are automatically selected for export.

  * Select *Production only* to list only those components that are configured at the Production level.  Or select *Test version if present* to include components that may also be at the Test level, so that if you export, you will get the latest version regardless of it being at the Production or Test level.
  * Click on any number of *[#Documents Documents]* to select the documents to export, including all configured fields, parties and images.
  * Click on any number of *[#Button_message_sets Button message sets]* to select the button message sets to export.
  * Click on any number of *[#Document_styles Document styles]* to select the document styles to export.
  * Click on any number of *[#Drop_downs Drop downs]* to select the drop down lists to export.
  * Click on any number of *[#Email_templates Email templates]* to select the email templates to export.
  * Click on any number of *[#Files Files]* to select the files to export.
  * Click on any number of *[#Images_and_Logos Image/logo]* to select the image files to export.
  * Click on any number of *[#Property_sets Property sets]* to select the property sets to export.

Once you have selected the items to include in the exported file, click on the *Download/export selected configuration* button to save the XML data file containing the specified configuration to your computer.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Library import config ==

Click on the *Import config* button in a library to select a previously exported file to upload:

http://open.esignforms.com/images/HowToGuidesWiki/libraryImportUploadFile.png

Once you have selected the file, click on the *Upload to import library configuration* button to upload the configuration from a previous export. Note that nothing is actually added to the library at this step.

You will be presented with the components that were contained in the file:

http://open.esignforms.com/images/HowToGuidesWiki/libraryImportSelectComponents.png

By default, all components are automatically selected for import. Unselect any components you do not want to import into the library at this time.

Check the *Overwrite existing Test versions?* box to allow any existing test versions of components with the same name to be overwritten. If you uncheck this box and your library already has a Test version component of the same name, the imported version will be skipped and not loaded into your library.

Note that all components will automatically be at the Test level (nothing is imported as Production-ready). If you already have a Production component with the same name, a new Test version will be created. Use the *Overwrite existing Test versions?* checkbox to control the behavior should your library already have a Test version of the same component.

Click the *Import selected objects into library* button once you are ready to import the configuration into your library.  

= Library programming http://open.esignforms.com/images/HowToGuidesWiki/programmingLibraryIcon.png =

Click on one of the libraries listed when you open the *Programming->Libraries* arrow to access the contents of that library.

You will be presented with a page that lists all of the component types available:

http://open.esignforms.com/images/HowToGuidesWiki/programmingLibrary.png

Click on one of the following to program that type of component:

  * *[#Documents Documents]* defines all documents (forms) and package+disclosure pages. 
  * *[#Button_message_sets Button message sets]* defines the button labels and related messages you want to use. The default button message set is defined in the *ESF/Library/Template*'s *ESF_DefaultButtonMessage*.
  * *[#Document_styles Document styles]* defines any special document styles you want to use besides the *ESF/Library/Template*'s default *ESF_DefaultDocumentStyle*.
  * *[#Drop_downs Drop downs]* define drop down lists, also known as select boxes, so your forms can allow a user to choose from a set of options. You can override drop downs in a branding library to change the values available.
  * *[#Email_templates Emails]* define the emails that will be sent, such as emails inviting parties to complete documents or notifications sent to others when transactions are completed, customers have signed, etc. You can define both a regular text email as well as an optional HTML-version of that email should the recipient's email client allow the display of HTML email. You can override emails in a branding library to change the contents of emails.
  * *[#Files Files]* define PDF, Word, HTML or other files that are linked in your documents for users to download "as is."
  * *[#Images_and_Logos Images/Logos]* define the images and logos that you display in your documents. You may also define images that are document-specific in the document editor. While you may reference images from anywhere on the Web in your documents, it is not recommended as the URL for such images may change over time, or the image at that URL may change and cause layout or content issues in the future.  You can override images/logos in a branding library to use alternative images and logos.
  * *[#Property_sets Property sets]* define small data elements that you can externalize from a document, such as company name, address, contact phone, fax numbers, etc. If you externalize these values, you can just change the property sets if their values change. You can override property sets in a branding library to change such values.
  * *[#Fields Fields]* define commonly used fields in multiple documents so that you can choose them when creating a new field in a document and avoid having to reconfigure its options. It also helps keep common fields consistently named to lessen confusion (was it first_name or FirstName or Name_First?). This is not commonly used.
  * *[#Parties Parties]* define commonly used parties in multiple documents so that your party names are consistent across documents. Also, if a given party name belongs to a group of users (like "Accounting" or "Payroll"), you can specify a *To Do Group* name that associates a [SystemAdminGuide#Groups Group] of users who will be allowed to act in the party's role. You can override parties in a branding library to specify a different group of users to act as this party.
  * *Tips* just displays the programming tips page that is displayed when you first open a library for programming.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Documents http://open.esignforms.com/images/HowToGuidesWiki/documentsIcon.png ==

Click on *Documents* to show all documents in the selected library.

Creating documents is the focus of programming on Open eSignForms. Everything begins with a document.  Here's a document list along with the versions associated with the selected document (Selected document CustomDocumentForSignature, Version 2 in Test mode):

http://open.esignforms.com/images/HowToGuidesWiki/documentVersionList.png

In the left side list are all of the documents, showing the current Production and Test versions, when present.  To filter the list of documents:
  * Enter part of the *Document EsfName* to search by name. It defaults to a "contains" search, but you can prefix with "^" for a "starts with" search. You can also specify to see only *Enabled* or *Disabled* documents.  Click the *Filtered* button to get a filtered list, or click *Show all* to list all documents.

Click on a document to view it along with all of its versions.

On the right side list are all of the versions of the selected document. Document versions are either Test (most recent if present), Production (most recent if no test version), or Old (prior Production versions).  By default, when you select a document, the most recent version will be selected. Only a Test version is available to be changed.

To create a new document and test version from scratch, click the *Create new* button.

When a document is selected, the document and version forms are displayed below:

http://open.esignforms.com/images/HowToGuidesWiki/documentVersionEdit.png

*On the left side* is information about the document, regardless of version:
  * Click *Enabled* for the document to be actively available, or click *Disabled* to keep that document from appearing in other lists of active documents.
  * The *HTML file name spec* sets the file name for this document when it's exported or attached to an email. It can be a simple name like `Contract.html` or may contain field and property specifications so it's customized, such as `Contract for ${firstName} ${lastName}.html`.
  * The *[HowToGuides#EsfNames_and_PathNames EsfName]* is the document's unique name in the library. Once you create a production version, you will no longer be able to change this name. 
  * The *Display name* is the name shown to parties when they view this document.
  * The *Description* is a short description the document.
  * Use *Comments* to track any information you want regarding this document.

Click the *Save* button to save any changes to the document and currently selected version.

Click the *Cancel* button to discard any changes made and revert to view-only mode. You can click the *Edit* button to return to edit mode.

Click the *Create new like* button to create a new document, like the currently selected document and version. In general, you want to create a new VERSION of a document when you are making changes to an existing document such that the new version will be used in place of the older versions going forward.  You may want to create a new document LIKE an existing one if BOTH documents will be used at the same time, such as creating a state-specific version of an otherwise standard document.

*On the right side* is information about the selected version:
  * It includes a list of pages in the document. Many multi-page documents are implemented as a 1-page document because they are "web pages," meaning that the document can be very long with simple scrolling.  Click on a page to bring up the page editor. If there is more than one page, a *Delete* button will appear to allow you to delete a page. Click the *Add page* button to add a new blank page. You may drag and drop pages to re-order them. Multi-page documents are presented with all "Edit" or "Edit and review" pages first, and then once all pages are filled, a final review is shown that is composed of "Review" and "Edit and Review" pages concatenated together. Most people use multiple pages to implement a simple wizard so users can fill out a document in parts, and then review the complete document when it's all done.
  * The *Document style* is the [#Document_styles document style] to be used for this document. We recommend you use as few different document styles as possible to keep a consistent look, and the built-in *ESF_DefaultDocumentStyle* is a nice, modern look.
  * The *Orientation* specifies the intended page orientation as Portrait (taller than wide) or Landscape (wider than tall). Portrait is the default. It is currently only used for PDF generation as browsers have no such limitation/concern. If you select multiple documents to combine into a single PDF, if any document is defined as Landscape, then all documents in that PDF will be landscape.
  * The *E-Sign record location* specifies where the electronic signature process record will appear if the document is signed. Choose "Final own page" to put it on the last page, by itself (so if printed, it will appear on its own page). Choose "End of document" to just put it at the end of the document without inserting a page break; this is useful if your last page has space to include this extra information. Choose "Do not show" to suppress it entirely (not recommended).

If you are working on a Test version, click the *Make Test version Production* after you have tested the document and shown that it works as expected. You must make it Production in order to use it in production-level transactions. Click the *Delete* button to delete the Test version. If there is no Production version, this will also delete the Document definition as well as the version.

If you have selected a Production version and there is no existing Test version, click on the *Create next Test version* to create the next version of the document. While generally not recommended, if you need to make a quick tweak to a Production version (and no Test version exists), click on the *Revert to Test* button to put the current Production version back to Test mode, and if there is a previous Old version, it will become the Production version again. This should only be done if you are sure there are no users as they could receive run-time errors (if on reverting there is no new Production version) or version mismatches (since the prior Old version will be used as the new Production version). If you must revert, make your changes quickly and then put it back into production to reduce the chance of such errors occurring.

Click the *Test* button to view the document in the standalone document tester.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Document page editor ===

From the document version form, if you click on a page, the document page editor is displayed:

http://open.esignforms.com/images/HowToGuidesWiki/documentPageEditor.png

We use the [http://docs.cksource.com/CKEditor_3.x/Users_Guide CKEditor] component for WYSIWYG document layout, which is shown on the left side.  The right side contains the list of Fields, Parties and Images defined within the document page.

_We recommend that you layout only line-by-line, and run the *Test* button to see how it renders frequently when you are learning the system. This will help you understand just what is happening and make it easier to detect problems as you add the next line._

On the left side editor:
  * The *Page [HowToGuides#EsfNames_and_PathNames EsfName]* is the unique page name in this document.
  * The *Edit/Review mode* specifies how a given page will be used. By default, it's for both "edit" mode, which means parties can fill it out, and "review" mode, which is shown as the final step before submitting a completed document. Choose "Edit and review" if the page is to be filled out and included in the final review. Choose "Edit only" if it's just for collecting data, such as in wizard, but won't be used in the final review. Choose "Reivew only" if it's just for the final review and will otherwise not have any input required.
  * The *Assign new fields so party can update* drop down lists all defined parties for the document, or "-none-", so that as you are building a new document, if you select the party who will fill out the respective fields, when you click *Save*, all new fields will automatically be associated with that party. Don't worry if you forget as you can assign which fields each party can update by clicking on the Party in the right side list.
  * The *View default CSS* list may be useful to more advanced programmers who understand CSS (cascading style sheets). The styles shown when you click on the link are provided for all pages, so you can use these style class names as necessary. It may also be useful if you need to override any in your document (just redefine via the 'Source' mode and add {{{!important}}} to ensure your style class is used).
  * The (i) info button has various tips and useful information (cheatsheet) for defining fields in your document.

See below for [#CKEditor_tips CKEditor tips].

Click the *Save* button to save changes to the page, fields, parties or images.

Click the *Close* button to close the page editor.

Click the *Test*  button to test the page in the document-only tester, which shows you your document as it will appear for any of the defined parties.

Click the *Customize logic* button to add document-specific actions and data validations. It is very similar to the [#Customize_logic customize logic configuration for a package] except that it only operates on the specified document and thus should generally only contain rules that are always true when using the document regardless of how it's packaged.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== CKEditor tips ===

To use one of the editor's styles, highlight existing text to change, then click the *Styles* drop down and choose a new style.

To use one of the editor's text styles, highlight existing text to change, then click the second drop down and choose the appropriate look as shown in the drop down.

Most of the editor icons have a tooltip if you hover over it.

Select bold, italics, underlined, strike-through, subscript, superscript or remove formatting.

Select colored text or colored background for text (like a highlighting marker).

Click the *Font* drop down to change the font on the selected text.

Click the *Size* drop down to change the font size on the selected text.

Click one of the text alignment buttons for: left justified, centered, right justified, fully justified (both left and right justified).

Click the cut, copy, paste, paste as plain text or paste as Word to paste whatever is in your clipboard. If you are copying from a Word document, we recommend using the 'Paste as Word' button.

Click the Find or Find & Replace to look for text in the editor.

Click the arrows to undo or redo changes.

Click the numbered/ordered list or unordered list to make the highlighted text into a list.

Click the Outdent or Indent buttons to decrease or increase the paragraph indentation, and use the DIV button to add a <div> tag.

Click the Table icon to add a table. This is a common tool for dealing with column data in your forms. If you drag the size of the table or its columns, the sizes will be fixed as you specify it in the editor.  But you can also set their sizes to percentage widths and the layout will expand and contract with the browser size.

Click the Insert Horizontal Line button to add a line across the page.

Click the Insert Page Break button to force a page break when the user prints the document from their browser.

Click the Insert Special Character button to add one of the listed characters.

Click the Image button to insert an image defined in the document, the document's library or from the ESF/Library/Template.

Click the Link button to make a hyperlink. Click on the Browse button to make a link to a file you have uploaded in the document's library. Click the Unlink button to remove a hyperlink from selected text.

Click the Source button, for advanced users, who want to see the HTML generated. You may enter HTML directly in this mode and then click it again to return to the WYSIWYG mode. In Source mode, you can also add javascript or style sections as necessary.

Click the Show Blocks button to display the page in terms of blocks, indicating the type of tags used to create them.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Fields in document ===

On the right side is the *Fields in document* list:

http://open.esignforms.com/images/HowToGuidesWiki/fieldsInDocumentList.png

This shows all fields defined in the document using the `${ }` notation. It shows the number of references as well as the field's type.  

Click on a field to change its configuration:

http://open.esignforms.com/images/HowToGuidesWiki/fieldEditorGeneral.png

By default, new fields are given the *General* type, meaning they are standard text input fields:
  * *[HowToGuides#EsfNames_and_PathNames EsfName]* specifies the field's name, which must be unique in the document.
  * Use the *Set from library* drop down to select any pre-defined fields from the library. Note that using this will update all fields on the form.
  * Use the *Type* drop down to choose the correct type for this field:
    * *General* is a text input field for entering a single value, like a name.
    * *Checkbox* is a traditional checkbox field, either checked or not.
    * *Credit card #* is a text input field that expects a legal credit card number. This type currently supports Visa, MasterCard, American Express, Discover numbers.
    * *Date* is a text input field that includes a calendar selector or lets the user enter the date directly.
    * *Date+time* is a text input field that includes a calendar selector or lets the user enter the date directly, followed by drop downs to select the hour, minute, seconds and timezone.
    * *Decimal* is a text input field that expects a valid decimal number, like 123.4. It differs from the Money type only in that it doesn't show a currency symbol.
    * *Drop down list* lets you choose a drop down list defined in your library so that parties can select a valid value from the list.
    * *Email address* is a text input field that expects a valid email address.
    * *File confirm click* is a special way to select a file from the document or library that will track whether parties have clicked on the link to view/download it if the field is required for the party.
    * *File upload* is a special field that allows files to be attached (or removed) when in edit mode, or listed and viewed when in display mode. When assigned to a party, that party will be able to upload/remove files. All parties are required to click on these files before continuing.
    * *HTML editor* puts a CKEditor field in your document, allowing the party to enter rich text, or paste from Word, etc. We recommend you only provide this feature to parties who are part of your company.
    * *Integer* is a text field that expects an integer/counting number value, such as -5 or 20. Decimal points are not allowed. This type also supposed an *Extra options* value to specify whether to show normal integers like 1, 2, 3, or to show the value as an ordinal number, like 1st, 2nd, 3rd.
    * *Money* is a text input field that expects a valid amount of money to be entered, like 15.25 or $20. It differs from the Decimal type in that it displays a currency symbol rather than just the number.
    * *Phone* is a text input field that expects a valid phone number. You can specify what the default country is for phone number so it can be properly interpreted and formatted.
    * *Radio button* is a traditional radio button that is typically defined with other values and are put in a group so that only one of the radio buttons in the group can be selected at a time.
    * *Radio button group* is a non-visual field type that actually holds the value of the selected radio button defined as part of the group.
    * *Signature* is a text field stylized for the purpose of having the party type their name to indicate they are signing. It will also trigger the additional of the electronic signature process record for the party who signs.
    * *SignatureDate* is a non-entry field associated with a Signature field by having the same name as the Signature field, but with "Date" added. So if you define a signature field as "CustomerSignature" you can have a date field added and automatically assigned with the actual signing date by defining a SignatureDate field named "CustomerSignatureDate" ("CustomerSignature" with "Date" added at the end).
    * *SSN* is a text field suitable for the entry of US-based social security numbers. It can also be used to format as an employer identification number (EIN).
    * *Text area* is a multi-line text field that allows for greater input by a user. It is generally used to enter plain text comments, additional contract terms, descriptions, free form mailing addresses, etc.
    * *Zip code* is a text field suitable for the entry of US-based zip codes, either 5 or 9 digits.
  * Use the *Align* drop down to change the alignment of the field. "Inherit" is commoly used.
  * Check the *Required* checkbox if the field is required.
  * Click the *Security options* list to add special options such as whether the field should support "Auto complete" or not (meaning that if the user has entered similar data elsewhere, the browser will offer up alternative choices, and if not checked, the browser will not offer suggestions); "Mask in data snapshot" is for sensitive data that you may store in your forms, but if the data is exported it must be masked; and "Copy value on tran clone" specifying whether this field's value can be copied if a new transaction is created from an existing transaction (for example, signature fields generally should not be copied since the new transaction should not assume they have typed to sign).
  * Enter the *Minimum length* this field may have in number of characters.
  * Enter the *Maximum length* this may have in number of characters.
  * Enter the *Width* and *Units* to specify how big the field should be. If your fields are defined in a table column, you may want to choose 100% to have it fill the available space. Or choose "Auto" in the Units (Width value is hidden) to have the field sized according to its natural size, which is useful for fields like checkboxes, drop downs, radio buttons, etc.
  * Check the *Resize display* field if you want the field to display in its natural size when in view/display mode (not in input/edit mode).
  * Check *Top*, *Bottom*, *Left* and/or *Right* to include borders around the field.
  * The *Initial value* specifies a fixed value or a field specification, like `${transaction:firstName}`, which is used to set the field's initial value when the transaction is started. Furthermore, the system will attempt to set the value again whenever a party retrieves a document and no value has yet been set so you can set it to a value from a prior document or even the current document. You generally cannot reference other fields in the document (since the order they are initialized is not defined), but you can set it to values posted when the transaction was started by an external process or a document field from a prior document or the current document when you know it's reference value is set. If the initial value field specification cannot be found and the *Display if empty value* option is enabled, then the field will be left blank rather than set to the missing field name.
  * The *Display if empty value* specifies a fixed value or a field specification, which is displayed for this field when the value is blank (null, spaces, empty string, etc.) To activate this, you need to check the box to its left.
  * The *Auto POST* checkbox allows you to submit all data on the form to the server when it's value changes. This is generally only done when linking two drop boxes such that the second drop box list is set dynamically based on the value of the first drop down list.
  * The *Dynamic drop down list name spec* appears for drop down list fields so that the actual drop down list used can be based on the value of other fields.
  * The *User tooltip* allows you to enter a tooltip that will display when the party hovers the mouse over the field on the document.
  * The *Input prompt* allows you to set a short tip that will appear inside the field when it's in input mode. Once any data is entered into the field, the input prompt will disappear. It is often used for a simple tip (and it is not recommended to be used in place of a label), such as put 'mm/dd/yyyy' in a date selection field, for example, or '(999) 555-5555' for a phone field, etc. Note that field has no value set until something is entered into the field and the input prompt disappears.
  * The *Input format* specifies the expected format for input into the field.
  * The *Display format* specifies the format to use when displaying the field (not in input/edit mode).

Each field can also be displayed with its label, automatically. By defining the label that goes with the field, when there is a data validation error, the field and label can be highlighted to help the party know what is wrong.  We recommend laying out your forms with the label in the "Above left" position to create a professional, consistent look that is clear to your users (although for checkbox and radio buttons, we recommend "Right").

  * Select the *Label position* to use when allowing the label to be automatically shown with the field.  Select "None" to prevent the label from automatically appearing with the field. We recommend you do put the label somewhere nearby, though, using the syntax `${label:fieldName}`.
  * Check *Show input only* if the label should only be shown when the field is open for input (edit mode). This is mostly useful for a field inside a paragraph of text where the label is useful as a field prompt, but once populated the label no longer is necessary.
  * For *Label to show* enter the value to show as the field's label.
  * Choose the *Separator* drop down to define the separation of the label and the field as "None" (no separator), "Colon :" (put a colon and space between), or "Space" (put a space between).
  * Choose the *Size* of the label as "Small" (use a smaller font, which is typical when using a label position of "Above Left") or "Normal" (use the same font size for the label).

Click the *Ok* button to save your changes to the field template.

Click the *Cancel* button to discard the changes made to the field template.

Click the *Create new like* button to create a new field like this one. Note that you will want to update your document to reference the new field using `${ }` notation.

Click the *Delete* button to delete the field. Note that you must also remove the associated `${ }` specification in the document because when you save the document page, all undefined fields will be re-created as a General type field.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Parties to document ===

On the right side is the *Parties to document* list:

http://open.esignforms.com/images/HowToGuidesWiki/partyInDocumentList.png

This shows all parties defined in the document. You only need to define parties who are expected to fill out portions of the document.  You do not need to specify any parties who will only view the document.  You can drag to reorder the parties listed so that they appear in the expected order that the document will be completed.

Click on a party to change its configuration:

http://open.esignforms.com/images/HowToGuidesWiki/partyEditor.png

  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name of a party to this document who is expected to enter data or sign.
  * Choose from the *Set name from library* drop down to select a pre-defined party in your library. This only changes the EsfName and Display name fields, but keeps them consistent across your documents. Consistent names will make it easier to configure packages when you add multiple documents in.
  * The *Display name* is the name of this party when displayed on a document or otherwise describing the party's step or role.
  * Select fields from *Fields party can view* and click the *>>* button to convert them into *Fields party can update*.  The fields listed on the right side are the fields the party will be allowed to type into.  Use the *<<* button to remove the selected fields from the update column if the party should not be allowed to update them.
  * Select fields from *Required fields party can update* and click the *>>* button to make those fields defined with the *Required* checkbox optional for this party. Often a required field may not be known by an early party (like the person who starts the transaction and then sends it along for processing by another party), so while the field truly is required, it may be considered optional for another party.  Use the *<<* button to remove the optional nature of that field for the party so it's required as defined in the field template.

Click the *Ok* button to save your changes to the party.

Click the *Cancel* button to discard the changes made to the party.

Click the *Create new like* button to create a new party like this one.

Click the *Delete* button to delete the party. 

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Files linked in document ===

On the right side is the *Files linked in document* list:

http://open.esignforms.com/images/HowToGuidesWiki/fileInDocumentList.png

This shows all files defined in the document. For files like HR policies that will likely appear in more than one document, we recommend you define those in the library. But many files are tied specifically to a single document, and this is the place to add those files.

Click on a file to change its configuration:

http://open.esignforms.com/images/HowToGuidesWiki/fileEditor.png

  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name of an file in this document.
  * *Display name* is the auto-generated text shown in the link to this file.
  * *Description* is a short description of the file.
  * *Comments* is any other information you want to maintain about the file.
  
If the file has already been specified, click the *Replace file...* button to select a different file to use. When you first create a new file, use the *Set file* button to select the file to upload.

Click on the *File link (view/download)* link to download the file.

Click the *Ok* button to save your changes to the file.

Click the *Cancel* button to discard the changes made to the file.

Click the *Delete* button to delete the file. 

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Images in document ===

On the right side is the *Images in document* list:

http://open.esignforms.com/images/HowToGuidesWiki/imageInDocumentList.png

This shows all images defined in the document. For images like logos that will likely appear in more than one document, we recommend you define those in the library. But some images are tied specifically to a single document, and this is the place to add those images.

Click on an image to change its configuration:

http://open.esignforms.com/images/HowToGuidesWiki/imageEditor.png

  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name of an image in this document.
  * *Description* is a short description of the image.
  * *Comments* is any other information you want to maintain about the image.
  
If the image has already been specified, click the *Replace image file* button to select a different image to use. When you first create a new image, use the *Set image file* button to select the image to upload.

Click on the *View full image* link to display the image "as is".

_Note that the thumbnail image may appear to have a black background when the original images uses a transparent background._

Click the *Ok* button to save your changes to the image.

Click the *Cancel* button to discard the changes made to the image.

Click the *Delete* button to delete the image. 

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Drop downs in document ===

On the right side is the *Drop downs in document* list:

http://open.esignforms.com/images/HowToGuidesWiki/dropDownsInDocumentList.png

This shows all drop downs defined in the document. For drop downs that will likely appear in more than one document, we recommend you define those in the library. But many drop downs are tied specifically to a single document, and this is the place to add them.

Click on a drop down to change its configuration:

http://open.esignforms.com/images/HowToGuidesWiki/dropDownEditor.png

  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name of a drop down in this document.
  * *Description* is a short description of the drop down.
  * *Comments* is any other information you want to maintain about the drop down.

A drop down can have one or more options specified, with the *label* being the value that is shown to the user in the drop down list, and the *value* is what is stored in the field that uses this list. Click the *Add option* button to add a new row. Click on a row and then the *Remove selected option* to delete a row. And finally you can drag each entry to change the order it will appear.

Click the *Ok* button to save your changes to the drop down.

Click the *Cancel* button to discard the changes made to the drop down.

Click the *Delete* button to delete the drop down. 

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Add new field, party, file, image or drop down to the document http://open.esignforms.com/images/HowToGuidesWiki/addNewOptionButton.png ===

On the right side, click the *Add new* button and then choose the type of new object to create: 

http://open.esignforms.com/images/HowToGuidesWiki/addNewButtonOptions.png

Click on whichever type of object to create.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Document page editor cheatsheet ===

We recommend that when you want to build a new document, start from the top, lay out the first line, test, then lay out the second line, test, etc. This will make it easier to spot layout errors before too much is built.

Next, add in your fields using the generic `${fieldName}` syntax inside the document. For each such `${ }` specified, a general purpose field will automatically be created for you. Just lay out all of the fields and do not worry about which party will manipulate which field.

Once your testing shows the document layout working as expected, with general fields, you can then use the 'Fields in document' tab to update their types as necessary. At this stage, you can also define the parties who will fill out the document and assign the fields to the respective parties.

==== Coding conventions ====
`${fieldName}` specifies a document field called 'fieldName'. Examples include `${firstName}`, `${streetAddress}`, `${SSN}` etc.  We recommend that each document have a field for each variable element so it will work more easily when packaged with other documents.  However, a document may reference a field (display-only value) from another document using the notation: `${documentName.fieldName}`.  `${fieldName}` is equivalent to `${fieldlabel:fieldName}`, with the former preferred as it's easier to type.

If the `documentName` prefix portion is set to the literal 'document' it is interpretted as the "current document" which is the same as not using the `documentName` at all.  Use the prefix 'transaction' to access data from the transaction data, including startup data and to access related fields from the transaction (id, displayname, user.* fields, etc.).

The names are used as programming variables and thus have are limited to 50 characters in length, must begin with a letter, and then can contain numbers, uppercase or lowercase letters and the underscore (`_`).  So `firstName` and `First_Name` are valid, while `First name` and `1stName` and `first-name` are not.

If a given field appears in multiple locations in a document, only one should be used for input with the standard field notation.  The other references to the field, where it's only displayed, should use:
  * `${out:fieldName}` will show the field 'fieldName' for display-only. It also can be used to make a field use the output format specification defined in its field template rather than use its default format.

While fields are often shown together with a label, you can specify these be shown individually using the notation:
  * `${label:fieldName}` will show the label configured for the field 'fieldName'.
  * `${field:fieldName}` will show just the field 'fieldName' without any configured label.

If you select a file using the Editor's link feature, the file link will appear in the document while editing. However, you may also use this notation to specify a configured file:
  * `${file:FileName}` will insert a link to the file named 'FileName' in that location.

If you select an image using the Editor's image feature, the image will appear in the document while editing. However, you may also use this notation to specify a configured image:
  * `${image:ImageName}` will insert the image named 'ImageName' in that location.

To insert the value of a configured property, you may use this notation:
  * `${property:PropertySetName.PropertyName}` will insert the value of 'PropertyName' as configured in the property set named 'PropertySetName'.
  * `${htmlproperty:PropertySetName.PropertyName}` will insert the value of 'PropertyName' as configured in the property set named 'PropertySetName' as if the value were valid HTML (no escaping special characters to HTML entities).

==== Built-in fields used in documents ====
  * `${document:esfname}` is replaced by the document's configured name.
  * `${document:displayname}` is replaced by the document's display name.
  * `${document:id}` is replaced by the document's unique id.
  * `${document:version}` is replaced by the document's version number.
  * `${document:version.id}` is replaced by the document version's unique id.
  * `${document:page.esfname}` is replaced by the document version page's name.
  * `${document:page.id}` is replaced by the document version page's unique id.
  * `${document:page.number}` is replaced by the document versions page's number.
  * `${document:party.esfname}` is replaced by the party's name.
  * `${document:party.displayname}` is replaced by the party's display name.
  * `${document:package.pathname}` is replaced by the package's path name.
  * `${document:package.version}` is replaced by the package's version number.
  * `${document:package.id}` is replaced by the package's unique id.
  * `${document:package.version.id}` is replaced by the package version's unique id.

==== Built-in fields to reference from the transaction and startup data ====
  * `${transaction:id}` is replaced by the transaction's unique id.
  * `${transaction:pathname}` is replaced by the transaction template's path name.
  * `${transaction:displayname}` is replaced by the transaction template's display name.
  * `${transaction:ESF_Start_Timestamp}` is replaced by the date-time it was created.
  * `${transaction:ESF_Started_API_Mode}` is true if the transaction was started using the API mode (from an automated start rather than a user). It is false otherwise.
  * `${transaction:ESF_Started_By_User_Id}` is replaced by the user id of the person who started this transaction if it was started by a logged in user.
  * `${transaction:ESF_Started_By_User_Email}` is replaced by the email address of the person who started this transaction if it was started by a logged in user.
  * `${transaction:ESF_Started_By_User_Email_Address}` is replaced by the full email display name and email address of the person who started this transaction if it was started by a logged in user.
  * `${transaction:ESF_Started_By_User_Personal_Name}` is replaced by the first/personal name of the person who started this transaction if it was started by a logged in user.
  * `${transaction:ESF_Started_By_User_Family_Name}` is replaced by the last/family name of the person who started this transaction if it was started by a logged in user.
  * `${transaction:ESF_Started_By_User_Employee_ID}` is replaced by the employee id of the person who started this transaction if it was started by a logged in user and this optional field has been set.
  * `${transaction:ESF_Started_By_User_Job_Title}` is replaced by the job title of the person who started this transaction if it was started by a logged in user and this optional field has been set.
  * `${transaction:ESF_Started_By_User_Department}` is replaced by the department of the person who started this transaction if it was started by a logged in user and this optional field has been set.
  * `${transaction:ESF_Started_By_User_Phone_Number}` is replaced by the phone number of the person who started this transaction if it was started by a logged in user and this optional field has been set.
  * `${transaction:paramName}` is replaced by the value of the named parameter passed at startup (X prefix is needed if original param started with a number; '-', '/' or '.' replaced by '`_`').
  * `${transaction:ESF_Request_Header_headerName}` is replaced by the value of the named header passed at startup ('-', '/' or '.' replaced by '`_`').
  * `${transaction:ESF_Request_Method}` is replaced by 'GET' or 'POST' based on type of original startup HTTP request.
  * `${transaction:ESF_Request_ContentType}` is replaced by HTTP request's mime-type/content-type when specified.
  * `${transaction:ESF_Request_RequestURL}` is replaced by HTTP request's original URL.
  * `${transaction:ESF_Request_QueryString}` is replaced by HTTP request's query string portion of the URL.
  * `${transaction:ESF_Request_RemoteAddr}` is replaced by HTTP request's remote address (typically an IP address).
  * `${transaction:user.id}` is replaced by the user id of the logged in user who is acting as the current party if it's a logged in user.
  * `${transaction:user.email}` is replaced by the email address of the logged in user who is acting as the current party if it's a logged in user.
  * `${transaction:user.email_address}` is replaced by the full email display name and email address of the logged in user who is acting as the current party if it's a logged in user.
  * `${transaction:user.personal_name}` is replaced by the first/personal name of the logged in user who is acting as the current party if it's a logged in user.
  * `${transaction:user.family_name}` is replaced by the last/family name of the logged in user who is acting as the current party if it's a logged in user.
  * `${transaction:user.employee_id}` is replaced by the employee id of the logged in user who is acting as the current party if it's a logged in user and this optional field has been set.
  * `${transaction:user.job_title}` is replaced by the job title of the logged in user who is acting as the current party if it's a logged in user and this optional field has been set.
  * `${transaction:user.department}` is replaced by the department of the logged in user who is acting as the current party if it's a logged in user and this optional field has been set.
  * `${transaction:user.phone_number}` is replaced by the phone number of the logged in user who is acting as the current party if it's a logged in user and this optional field has been set.

==== Built-in fields used in Package documents ====
  * `${transaction:documents.todo}` specifies where the generated list of documents the specified party has access to are listed.

==== Built-in fields used in Email notifications configuration ====
  * `${LINK}` specifies where the generated HTTP Link or URL will be placed in the email notification.
  * `${EMAIL}` specifies where the party's address will be placed in the email notification, TO/CC/BCC, and/or subject.
  * Tip: Use `${out:DocumentName.FieldName}` instead of just `${DocumentName.FieldName}` in email text if you need the output formatting specification for the field as defined in that document.

==== Built-in fields used in password-related e-mail configuration for users ====
  * `${LINK}` specifies where the generated HTTP Link or URL will be placed in the email notification.
  * `${NAME}` specifies where the user's display name will be placed in the email notification and/or subject.
  * `${EMAIL}` specifies where the user's address will be placed in the email notification, TO/CC/BCC, and/or subject.

==== Other built-in operators ====
  * `${serial:SerialName}` is replaced by the next serial number defined with the name 'SerialName'. Numbers for test and production transactions are maintained separately. This generally should only be used to set another field value as it will return a new value every time it is referenced (i.e. not to be used directly in your document layout).

==== Field specifications ====

Various configuration fields allow for the specification of field specifications, which are basically the same as the field accesses above, but can be a literal or combination of other fields.

For example, these are valid field specifications:
  * `this literal string` - This literal-only field specification simply is "expanded" to the same literal string: *this literal string*
  * `${transaction.id}` - This field-only specification expands to the ID of the current transaction, such as: *6ae1f380-8184-4a0a-ad0a-e3597d968462*
  * `StoresIn${state}` - This combines a literal *StoresIn* with the current document field *state*, assuming the state of Washington would result in something like: *StoresInWA*
  * `${firstName} ${lastName}` - This combines the field *firstName* with a space literal and another field *lastName* to create a full name, resulting in something like: *Steven Gates*

==== Links to advanced configuration options ====
There are a few data types that allow for customization using Java's built in capabilities, but they are a bit technical. For advanced folks who need them, here are some useful links to documentation that describe these more.

For Date, use [http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html SimpleDateFormat] specifications

For Decimal and Money and even Integer, use [http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html DecimalFormat] specifications

For General, use regular expression [http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html Pattern] specifications

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Customize logic on a document ===

Customizing logic for a given document is very similar to customizing logic in a package except that it only applies to the document. It also operates on a restricted set of events and actions, though it can operate on page-level events which are not available to the package.

http://open.esignforms.com/images/HowToGuidesWiki/documentPageEditorCustomLogic.png

This is the best place to put document-specific extra data validations. Just select the *Party review document* event and use *Show error/message* actions with appropriate conditions to detect invalid form data.

  * In *When event(s) occur* select at least one type of event that describes when you'd like the associated actions to run. You can choose from:
    * *Party retrieved document* occurs when a party first retrieves a document.
    * *Party completed page* occurs when a party clicks the Continue button on a given page in a document. It is used primarily for custom validations as a user goes from page to page in a multi-page document. The party cannot continue to the next page if any action produces an error or warning message.
    * *Party review document* occurs when a party has filled out the form or is signing and clicks the review button. The party cannot continue to review the completed document if any action produces an error or warning message.
    * *Party completed document* occurs when a party completes a given document. The party cannot complete the document if any action produces an error or warning message.
    * *Party view completed document* occurs when a party views a document that has already been completed.
  * In *Limit only to pages (optional)* check any pages where the actions should only fire when the selected event(s) occur, but also only when the specified page is being processed. If you do not select any, then it will not matter which page is involved.
  * In *Limit only to parties (optional)* check any parties if the actions should only fire when the selected event(s) occur, but also only when the specified party is processing the document. If you do no select any, then it will not matter which party is involved.
  * In *Actions* you can drag to re-order existing actions or click the *Delete* button to remove it.
  * Click the *Add action* button to add the actions you'd like to occur when the specified event arises, possibly limited based on the documents and parties selected.  
    * Choose *Set field action* to change any field values in your documents. 
    * Choose *Calculate field value* to calculate a value (add, subtract, multiply, divide). 
    * Choose *Calculate monthly payment* to calculate a monthly payment amount based on the loan amount, term in months, and interest rate (APR).
    * Choose *Show error/message* to display a message or report an error to the user (mostly used during the *Party review document* and *Party completed page* events).

See [#Conditional_actions conditional actions in a package] for details on conditions which are the same for package-level and document-level custom logic.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Package+disclosure documents ===

There is a special type of document that plays the role of a welcome message, the E-Sign Disclosure (required by law for consumers) and often contains the list of documents contained in the package for a given party. 

Since the list of documents for a given party are variable, you can include `${transaction:documents.todo}` in the package+disclosure document and it will automatically show the correct list of documents and their status for the party.

The *ESF/Library/Template* contains a document just for this purpose called *StandardPackageDisclosures*.

It's contents is some like the following:

{{{
${image:Logo}

Welcome to our electronic signature service.

Please note that your continued use of this service constitutes your agreement to use electronic signatures in lieu of a paper document with a traditional hand-written signature. Electronic signatures are legally recognized throughout the United States. Your electronic signature will take place when you type your name and/or initials into the marked areas on the subsequent document(s) and then you click both the Review and Submit buttons on each document to indicate your agreement and/or authorization.

You also certify that these documents are intended for you and that you are authorized to sign the documents. If you have received these by mistake, please do not continue and email us or call ${property:MyCompany.CustomerSupportPhone} to report our error.

If you do not wish to sign these documents electronically, please contact us and do not continue with this process. However, we expect that you will prefer this free, easy-to-use, fast and environmentally sound option.

Document(s) for your review:
${transaction:documents.todo}
}}}

You are free to create your own documents with alternative welcome messages, E-Sign Disclosures and/or layout for this purpose. Just specify your package+disclosure document in the [#Packages Package configuration].

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Advanced programming of a document ===

Not everything can be done with point & click programming. Here are a few tips that can be used when CKEditor is in *Source* mode.

==== Style sheets ====
You can add your own styles just by including a standard HTML style tag at the top of your document:

{{{<style type="text/css">}}}

_put your custom styles here_

{{{</style>}}}

==== JavaScript ====
You can add your own javascript just by including a standard HTML script tag at the top of your document:

{{{<script type="text/javascript">}}}

_put your custom JavaScript here_

{{{</script>}}}

Such scripts run entirely in the user's browser and are only in effect if their browser is set to support JavaScript. We do not recommend using JavaScript to generate the document layout so that the captured HTML document on signing can be rendered correctly and consistently in the future. JavaScript generally should not be required for the document to work or render correctly.

==== Java code snippets ====
You can add your custom Java programming to your document using JSP code syntax such as:

`<%` _put your custom java code here_ `%>`

Unlike JavaScript, this code runs on the server before the page is rendered to the user's browser.  Note that it is important to get the syntax right, especially with respect to open and close brackets for conditions and loops.

This is particularly useful for optional HTML to display in a document. The variable *esf* can be used in your document custom Java code to access the server-side state. The Java interface for this object is shown below:

{{{
public interface EsfDocumentPageInterface 
{
	/**
	 * @return true if the page is currently in EDIT mode, meaning the party is authorized to fill out fields on the form, the 
	 * stage before going into REVIEW mode.
	 */
    public boolean isEditMode();

	/**
	 * @return true if the page is currently in REVIEW mode, meaning the party is authorized to fill out fields on the form while in EDIT
	 * mode but now is reviewing the page before submitting it.
	 */
    public boolean isReviewMode();
    
	/**
	 * @return true if the page is currently in VIEW-ONLY mode, meaning the party is not authorized to fill out any fields, or is
	 * returning after completing the document so no further changes can be made.
	 */
    public boolean isViewMode();

	/**
	 * @return true if the current party can only view the document and has no fields that can be updated/filled out on any
	 * page in the document.
	 */
	public boolean isViewOnlyParty();
	
	/**
	 * @return true if the current party is a view-only party that is not even defined as a party to the document. 
	 * This party cannot make any changes and is generally defined in the package but is not mapped to a specific document party.
	 */
	public boolean isViewOnlyNonParty();
	
	/**
	 * @param docPartyName the String document party name to check (should be one of the document party names defined for the document)
	 * @return true if the current party is the specified document party
	 */
	public boolean isParty(String docPartyName);
	
	/**
	 * @param fieldSpec the String field specification, such as ${firstName} to get the field firstName from the document
	 * @return the String value associated with the field spec. If the field spec is invalid (no such field can be found)
	 * the field spec is returned without any values replacing it.
	 */
	public String getFieldSpecValue(String fieldSpec);

}
}}}

For example, to conditionally show some HTML based on whether the current page is in EDIT or REVIEW mode, you can use code like this:

{{{ <% if ( esf.isEditMode() ) { %>}}}

_put the optional HTML here to show only if the document is being filled out and/or signed_

{{{ <% } %> }}}

Or

{{{ <% if ( esf.isReviewMode() ) { %>}}}

_put the optional HTML here to show only if the document is being reviewed before submitting_

{{{ <% } %> }}}

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Button message sets http://open.esignforms.com/images/HowToGuidesWiki/buttonMessageSetIcon.png ==

Button messages provides a way to customize the button labels, tooltips on the buttons, messages shown to the party about how to use the button as well as other common messages shown to parties when processing a document. Open eSignForms comes with a built-in default button messages in the *ESF/Library/Template* library called *ESF_DefaultButtonMessage*.

The button message set is configured in each package. Note that a transaction template can specify a branding library such that if the same button message set name is defined in that library, then it will be selected at run time.

Click on *Button message sets* to show all document styles in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/buttonMessageSet.png

  * Choose *Enabled* to allow the button message set to be used. If a button message set is no longer needed, click *Disable*.
  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name for this button message set.
  * *Description* is a short description of the button message set.
  * *Comments* is any other information you want to maintain about the button message set.

The button message set specifies optional package and document footers, the button labels and tooltips (shown if the mouse is over the button) as well as various status messages shown to the party when processing a document.

=== Package and document footer ===
  * *Package footer* is optional HTML to show at the bottom of the package that lists the documents for the party to process. By default, we include a note to the party to bookmark the link to return at a later time.
  * *Document footer* is optional HTML to show at the bottom of each document. By default nothing is shown.

=== Package buttons ===
Under the *Package buttons* section:
  * *Continue button label (has documents to do)* and *Tooltip to show the party* define the continue button when a party has a list of documents that need to be processed.
  * *Continue button label (all documents completed)* and *Tooltip to show the party* define the continue button when a party has completed all documents and can be used to show the first document.
  * *Delete button label (only if no signatures and party authorized)* and *Tooltip to show the party* define the transaction delete button that only appears if no signature have been applied and the party defined in the package has been enabled to delete it.
  * *Return/not-completing button label (only if a not-completing URL is defined)* and *Tooltip to show the party* define the button label the party can press if they elect not to complete the documents at this time. It is only present if the party in the package has such an URL defined. It can be used when integrating a document process flow so that if they decide not to sign they can be returned to a page where you'll know they did not complete the documents.
  * *Download PDF button label (only when party completed)* and *Tooltip to show the party* define the download button that bundles all completed documents in a PDF.

=== Document buttons (common) ===
Under the *Document buttons* section is a common button shown to a parties:
  * *Go to package button label*, *Tooltip to show the party* and *Message to show the party* define the button on a document that will return the party back to the package list. The message is shown at the top to help the party know what it means.

=== Document buttons (party can fill/edit) ===
Under the *Document buttons (party can fill/edit)* section are the buttons shown to a party when they can fill, edit and/or sign a document:
  * *Next page button label* and *Tooltip to show the party* define the next page button to go to the next page in a multi-page document.
  * *Previous page button label* and *Tooltip to show the party* define the previous page button to go to the previous page in a multi-page document.
  * *Continue to review button label*, *Tooltip to show the party* and *Message to show the party* define the button when the next step is to review the finalized document that contains all their updates.

=== Document buttons (party review after fill/edit) ===
Under the *Document buttons (party review after fill/edit)* section are the buttons shown to a party in review mode after they have filled out the form, signed, etc.:
  * *Submit button label (signature added), *Tooltip to show the party* and *Message to show the party* define the final submit button if the party signed the document.
  * *Submit button label (no signature added), *Tooltip to show the party* and *Message to show the party* define the final submit button if the party did not sign but otherwise filled in form fields.
  * *Return to edit button label*, *Tooltip to show the party* and *Message to show the party* define the button to allow the party to return to edit mode so changes can be made before being submitted.

=== Document buttons (view-only party initial review) ===
Under the *Document buttons (view-only party initial review)* section are the buttons shown to a view-only party when processing a document they have not yet read/reviewed:
  * *Next page button label*, *Tooltip to show the party* and *Message to show the party* define the button shown to go to the next page on a multi-page document.
  * *Previous page button label* and *Tooltip to show the party* define the button shown to go to the previous page on a multi-page document.
  *  *Complete review button label*, *Tooltip to show the party* and *Message to show the party* define the button to submit indicating that they have completely read the document.

=== Document buttons (return completed parties) ===
Under the *Document buttons (returning completed parties)* section defines the buttons shown to parties who have already completed the document but have returned to review/re-read it:
  * *Next page button label* and *Tooltip to show the party* define the button to go to the next page in a multi-page document.
  * *Previous page button label* and *Tooltip to show the party* define the button to go to the previous page in a multi-page document.
  * *Next document button label* and *Tooltip to show the party* define the button to go to the next document in a multi-document package.
  * *Previous document button label* and *Tooltip to show the party* define the button to go to the previous document in a multi-document package.

=== General messages shown to parties ===
Under the *General messages shown to parties* section are the messages shown to users based on where they are in the process flow:
  * *Party retrieves a document that is already completed* is shown when a party returns to a document that they have already completed.
  * *Warning message shown to a party if attempts to work on completed document* is a warning message shown to a party if they use the BACK/FORWARD browser buttons and try to edit or submit a document that has already been completed.
  * *View-only party views a document* is shown when a view-only party views a document
  * *Non-signing party reviewing a document before submitting* is for a non-signing party who has filled out some of the document when reviewing their updates, but before being submitted.
  * *Signing party reviewing a document before submitting* is for a signing party who is reviewing the final document, but before being submitted.
  * *Party retrieves a document that needs to be filled out* is for a party who retrieves a document that needs to be filled out or signed.
  * *Party has completed all documents* is shown when a party completes all documents in the package. It is shown on the package page. If a "completed URL" is defined in the party in the package, this message will not be shown as the party will be redirected to that URL when all documents are completed.
  * *Party has deleted the transaction* is shown if the party was able to delete the transaction and all related documents.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Document styles http://open.esignforms.com/images/HowToGuidesWiki/documentStylesIcon.png ==

Document styles provides basic control of the look of your documents. They specify CSS (Cascading Style Sheets) rules. By using a common set of styles, documents will have a consistent look. Open eSignForms comes with a built-in default style in the *ESF/Library/Template* library called *ESF_DefaultDocumentStyle*. It is a clean, modern look.

The values associated with the styles can be seen in the *ESF/Library/Template's* drop downs.

To use the style, you must set it as the [#Documents document version's style]. You can also set your document style as your [#Libraries library's default value] to use when creating new documents.

Click on *Document styles* to show all document styles in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/documentStyles.png

  * Choose *Enabled* to allow the document style to be used. If a document style is no longer needed, click *Disable*.
  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name for this document style.
  * *Description* is a short description of the document style.
  * *Comments* is any other information you want to maintain about the styles.

The style is composed of various aspects that are used to override the hard-coded default CSS that ensure basic document functionality. It can be viewed from the [#Document_page_editor document page editor's] *View default CSS* link. Values that are specified as "(Default)" will use the values defined in default CSS. Values that are specified as "Inherit" use the setting of its parent element.

  * *General document contents* sets the font styles for the regular text you put on the page.
  * *Signatures* sets the font styles to use for signatures and signature dates, to give a styled look that makes the typed name electronic signature stand out from the general document contents.
  * *Field data on review* sets font styles to be applied to all fields when in review mode (display mode, compared to edit mode when the field can be entered). This can be useful if you would like all "variable data" in your documents to stand out from the boilerplate text.
  * *Required data in input fields* specifies the styles for input fields that are required. 
  * *Optional data in input fields* specifies the styles for input fields that are not required.
  * *Invalid data in input fields* specifies the style for input fields when they contain invalid data and an error has been reported. It helps identify fields that need to be corrected.
  * *Normal label* specifies the style of normal-sized field label.
  * *Normal error label* specifies the style of the normal-sized field label when that field has been flagged as invalid.
  * *Small label* specifies the style of small-sized field label.
  * *Small error label* specifies the style of the small-sized field label when that field has been flagged as invalid.

_Note: You can always specify the fonts for your text directly in the document page editor. But to control labels, error looks, signatures, etc. you need to use the document style._

_Default CSS print style note: The default CSS file includes a brief print style: div.newPage will insert an actual page break; fonts are set to 90% of their screen size; and link tags (A HREF) with the "showURL" class will display the value of the link's URL since a printed link would otherwise lose that information._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Drop downs http://open.esignforms.com/images/HowToGuidesWiki/dropDownsIcon.png ==

Click on *Drop downs* to show all drop downs (selection boxes) in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/dropDown.png

  * Choose *Enabled* to allow the drop down to be used. If a drop down is no longer needed, click *Disable*.
  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name for this drop down.
  * *Description* is a short description of the drop down.
  * *Comments* is any other information you want to maintain about the drop down.

  * Check *Allow Multi-Selections* if the drop down should allow the user to select more than one value from the list.
  * The *Label* is the text the user will select from when viewing the drop down list.  The *Value* is the data value that will be stored in the drop down field. The label and value can be set to same.
  * If "no selected value" is allowed, consider creating the first *Label* as "--SELECT--" with an empty *Value*.

Click the *Add option* once for each label+value you want to appear in your drop down. It will create a new entry that you can then update.

Select an option by clicking a row so it is highlighted (such as clicking in the *Order* field or the narrow space between the label and value) and then click the *Remove selected option* to remove that option.

Drag a row to another location to rearrange the order that the drop down displays its options.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Email templates http://open.esignforms.com/images/HowToGuidesWiki/emailsIcon.png ==

Email templates are used to define any email that needs to be sent from the system. Like a document, they can have variable data substituted to customize them for individual parties.

Click on *Emails* to show all email templates in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/emailTemplate.png

  * Choose *Enabled* to allow the email template to be used. If an email template is no longer needed, click *Disable*.
  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name for this email template.
  * *Description* is a short description.
  * *Comments* is any other information you want to maintain.

  * *Send email FROM:* specifies the FROM email address that will be used. Often, this is a NO-REPLY@example.com address to indicate that the email is an automated email and not a personal email. However, you can use any email address. The default is a property set value `${property:ESF.SendEmailFrom}`. You can use any field from the documents that are used when the email is sent, or you can use the user who started the transaction with a value like `${transaction:ESF_Started_By_User_Email_Address}`.
  * *Send email TO:* specifies who the email will be sent to. For most party-based emails, we recommend using the value `${EMAIL}` since that variable can be set (overridden) in various configuration options. For example, in a Package Party configuration, you can set the option labeled `Notify email address spec (${EMAIL})` to replace `${EMAIL}` everywhere it's used in this email template (including the email body text). The same is true for the package's custom logic action for sending an email option `Email address spec (${EMAIL})`. Multiple emails can be specified (use a semicolon to separate them).
  * *CC:* specifies any CC recipients.
  * *BCC:* specifies any BCC recipients (blind-copy so will not appear to other recipients).
  * *Subject* is the subject of the email.
  * *Text version* is the email text to show for clients who cannot or will not allow HTML-based emails. A text version is required as it's guaranteed to be used by all email clients.  You may specify the field `${LINK}` anywhere the party's pickup link should appear. Each party has a unique `${LINK}` value to ensure the system knows who is retrieving the package of documents.  In the package's custom logic action for sending an email option `For party (${LINK})` allows you to control which value to use. Emails sent to a given party will use that party's unique link value.
  * *HTML version* is the HTML version of the email for clients that support HTML. Generally, it should be similar to the text version, but you can use various stylings to make the email more attractive.  You may put ${LINK} anywhere you need the party's unique pickup link to appear. If the actual URL of the link is not shown in your HTML version, we recommend showing the full link at the bottom, in a smaller font, with something like this:

{{{
If the above link is not active (e.g. nothing happens when you click on it), please copy the link below exactly as shown into your web browser's address or location field:

${LINK}
}}}

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Files http://open.esignforms.com/images/HowToGuidesWiki/filesIcon.png ==

Files are used to upload and save files (generally not images, though) linked to by your various documents. When a file is only needed for a particular document, you should consider defining the [#Files_linked_in_document Files linked in a document version]. But by defining the files in the library, they are available for other documents, and of course you can easily override them using a Branding Library should the file change depending on who is using the document.

Click on *Files* to show all files in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/fileNewUpload.png

  * Choose *Enabled* to allow the file to be used. If a file is no longer needed, click *Disable*.
  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name for this file.
  * *Display name* is the name shown in the link to this file.
  * *Description* is a short description.
  * *Comments* is any other information you want to maintain.

If it's a new file, click the *Set the file...* button. You can then choose a file (GIF, JPEG or PNG should generally be [#Images_and_Logos uploaded as an image], not a file). A link to download the file will be created.

Click the *Save* button to save the file.

If you are replacing an existing file:

http://open.esignforms.com/images/HowToGuidesWiki/fileUpdate.png

Click the *Replace file...* button to select a new file to replace the one shown.

Click the *Save* button to save the new file.

_Tip: In a document, while you can reference a file using the `${file:FileName}` syntax, you will probably find it easier to use the editor's link button to insert a link to the file so it's visible in the editor._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Images and Logos http://open.esignforms.com/images/HowToGuidesWiki/imagesLogosIcon.png ==

Images/Logos are used to upload and save images and logos used across your various documents. When an image or logo is only needed for a particular document, you should consider defining the [#Images_in_document image inside the document version]. But by defining the images in the library, they are available for other documents, and of course you can easily override them using a Branding Library should the image change depending on who is using the document.

Click on *Images/Logos* to show all images in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/imageNewUpload.png

  * Choose *Enabled* to allow the image to be used. If an image is no longer needed, click *Disable*.
  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name for this image.
  * *Description* is a short description.
  * *Comments* is any other information you want to maintain.

If it's a new image, click the *Set the image file* button. You can then choose an image file (GIF, JPEG or PNG should be used for online documents). A thumbnail image will be generated, along with a link to view the full-sized image. Note that images that have transparent backgrounds will show a black background in the thumbnail, but the original image will remain transparent.

Click the *Save* button to save the image.

If you are replacing an existing image:

http://open.esignforms.com/images/HowToGuidesWiki/imageUpdate.png

Click the *Replace image file* button to select a new image file to replace the one shown.

Click the *Save* button to save the new image.

_Tip: In a document, while you can reference an image using the `${image:imageName}` syntax, you will probably find it easier to use the editor's image button to insert the image so it's visible in the editor._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Property sets http://open.esignforms.com/images/HowToGuidesWiki/propertySetsIcon.png ==

Property sets are a bundle of related name-value pairs. This allows you to create more flexible and re-usable documents because certain key information, like company name, address, phone, contact email, etc. can be externalized with the values stored in property sets. Changes can then be made simply by updating the property set, and all documents that reference that property set will automatically begin using the new values without having to update each document.

Properties are referenced first by which property set is being used, and then which property in that set is being referenced: `PropertySetName.PropertyName`.

Also, if you support multiple brands, you can create the property set (with the same name) in a branding library so that multiple companies can use the same document, yet each gets their company name, address, phone, etc. in their documents.

Click on *Property sets* to show all property sets in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/propertySet.png

  * Choose *Enabled* to allow the property set to be used. If a property set is no longer needed, click *Disable*.
  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name for this property set.
  * *Description* is a short description.
  * *Comments* is any other information you want to maintain.

In the table of name-value pairs on the right side, the fields are:
  * The *EsfName* is the name of the property (must be unique within this property set).
  * The *Value* is the value to show when this property is referenced. It can be more than one line.
  * The *Comment* is any information you'd like to maintain about the property.

Click the *Add property* button one or more times to add one more new properties. Just replace the name and value as needed.

To remove properties, click on one or more rows so they are highlighted, then click the *Remove selected properties* button. It can be tricky to select a row, but if you click in the row, but not inside a input field, it should highlight to show the row been selected.

Property sets can be referenced in your documents, email templates and the like using `${property:propertySetName.propertyName}` notation. The `propertySetName` is the name of the property set, and `propertyName` is the name of the individual property defined in that property set.

_Tips: Normally, property values are encoded to be HTML-safe when displayed in your documents, but if you have taken care to create a property value containing valid HTML, you can include that in your document using `${htmlproperty:propertySetName.propertyName}` notation. You can use this as a simple, flexible way to insert variable or common HTML in your documents, including custom styles you frequently use in your documents._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Nesting property sets for simple property-based database ===

Using a custom action to set a field value, you can look up a property value using another field as the key, giving a simple DB-like lookup capabilities.

For example, let's say you have a field, `productId`, and it perhaps is set from a drop down list, but it's values are 1, 2, 3, etc. 

We can create a property set, say `ProductInfo`, with a property values such as:
{{{
Id1_Price = $5.00
Id1_Description = This describes the first item.
Id2_Price = $25.50
Id2_Description = This describes the second item.
Id3_Price = $19.99
Id3_Description = This describes the third item.
}}}

Now, you want to get the product's price by it's id, you could create a field `productPrice` and in a custom action set it based on the current `productId` value using nested field specs: `${property:ProductInfo.Id${productId}_Price}`

And you can get it's description using: `${property:ProductInfo.Id${productId}_Description}`

This same technique also works if to select a property set (and/or the property name within the set), so if I instead had property sets named `Product_1`, `Product_2`, `Product_3`, etc. and they each had properties name `Price` and `Description`, we'd have property sets set something like:

{{{
Product_1.Price
Product_1.Description

Product_2.Price
Product_2.Description

Product_3.Price
Product_3.Description
}}}

which could be accessed depending on the `productId` using:

{{{
${property:Product_${productId}.Price} and ${property:Product_${productId}.Description} 
}}}

I hope this is a useful tip for those who need a simple lookup database that is based on some other value.  The trick is that property set names and property names are limited to our standard field naming convention, so it must start with a letter, be composed of letters, numbers and underscores and be no longer than 50 characters each.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Serial generators http://open.esignforms.com/images/HowToGuidesWiki/serialGeneratorsIcon.png ==

Serial generators are used to create unique, serial numbers. They are often used to automatically assign customer numbers, purchase order numbers, etc. It manages two numbers, one for test transactions and the other for production transactions.  Like other items in the library, you can override a serial generator via the branding library defined for a transaction template.

Click on *Serial generators* to show all serial number generators in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/serialGenerator.png

  * Choose *Enabled* to allow the serial number generator to be used. If a serial generator is no longer needed, click *Disable*.
  * *[HowToGuides#EsfNames_and_PathNames EsfName]* is the unique name for this serial number generator.
  * *Description* is a short description.
  * *Comments* is any other information you want to maintain.
  * *Next production serial* can be set when a new generator is being created. It will be the first serial number returned when used in a production transaction. Subsequently, it will just show the current production serial number generator value.
  * *Next test serial* can be set when a new generator is being created. It will be the first serial number returned when used in a test transaction. Subsequently, it will just show the current production serial number generator value.

On the right side, the version-specific field is:
  * The *Serial number format* specifies how the serial number will appear. Use '#' for each digit where if it's a leading zero, it will be suppressed. Use '0' for each digit where it will be shown even if it's a leading zero. You can use fixed letters before (prefix) and after (suffix) the # and 0 pattern. A typical pattern is ###000000000 or with a prefix like ACCT000000000. If the number is bigger than the pattern, the additional digits will be shown.

Serial number generators can be referenced in your documents using `${serial:serialName}` notation. The `serialName` is the name of the serial generator. Once a serial number is issued, it will not be issued again. To reduce gaps, we recommend you set your serial number field (such as a purchase order number) to a value like '#PENDING' and use a custom logic rule to set that field to the serial number when the order is submitted (or at the very least on review).

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Fields http://open.esignforms.com/images/HowToGuidesWiki/fieldsIcon.png ==

Click on *Fields* to show all field templates in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/fieldTemplate.png

Most fields, of course, are [#Fields_in_document defined in the document], which you can reference for details on configuring them. The process is the same.

The main purpose for a field template defined in a library is to create "standardized" field names and configuration. When creating documents, you can create fields based on those defined in the library so that their values take on the standard definition. Of course, any value can be overridden in the specific document's definition.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Parties http://open.esignforms.com/images/HowToGuidesWiki/partiesIcon.png ==

Click on *Parties* to show all party templates in the selected library.

http://open.esignforms.com/images/HowToGuidesWiki/partyTemplate.png

Most parties, of course, are [#Parties_to_document defined in the document].

The main purposes for a party template defined in a library are 1) to create a "standardized" name for your parties so that as you create multiple documents, you tend use the same name for the same roles across those documents; and 2) if you configure a party in a package as a [UserGuide#To_Do 'To Do'] party, then you can define the [SystemAdminGuide#Groups group] that represents members of the party so that any member in the group can process transactions when the party is active.

If the package party is defined for To Do purposes, specify the *To Do Group* that represents the users who will be able to place this role. Also, if you support multiple companies, each branding library is able to set their own group to play the given role. So if you have an "Approver" role, you can set it to be one group for one company, but another group for the other company.

===To Do configuration===
To use To Do, do the following:

  # Check if there there is an existing Group of users (listed under Access control) defined that represents the people who will play the role of the party? If not, create one like the most similar existing group and update the users who belong in it.
  # Inside the Library, under the Parties, create a new Party and set the "To Do Group" to the group determined in step 1.
  # In the Package, select the party listed in the package that needs access to the To Do. Then set its "To Do Party EsfName" to be the party created in step 2.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

= Packages http://open.esignforms.com/images/HowToGuidesWiki/packageIcon.png =

Packages allow you to bundle one or more documents so that they are processed as a group. Each party will be able to process one or more of the documents in the package. It is possible to have some parties only see a subset of documents.

You also configure the package parties who will process the documents. The initial list of parties come from the names defined in the documents you add. But you may find that you need to rename or group the parties; for example, one document may say call the party who fills in the document as "FirstParty" while another document may have called that party "Customer". In the package, if these are really the same person, you can bundle them together.

Click on *Programming->Packages* to show all packages of documents that are available to you. 

Click on a package to view or configure it. To create a new package, select a template or similar existing package you have permission to access and click the *Create new like* button.

http://open.esignforms.com/images/HowToGuidesWiki/package.png

  * Choose *Enabled* to allow the package to be used. If a package is no longer needed, click *Disable*.
  * *[HowToGuides#EsfNames_and_PathNames PathName]* is the unique path name for this package.
  * *Description* is a short description.
  * *Comments* is any other information you want to maintain.
  * *Permissions to access this package* contain the standard List, View Details, Create Like, Update and Delete permission lists. Just choose which groups are allowed to do each of these operations on a package. Normally, the "programming" group has permission to this as it's not a general user task.

For the list of documents and parties on the right side, the fields are:
  * The *Choose documents* shows each Library that is available to you. If you open the arrow, it will show the documents defined in each. Just click and drag a document from this list into the *Documents in this package* table. If other documents are already in the list, note the insertion bar when you drag the document over to choose to place it at the top (first), between documents, or at the bottom (last). Of course, you can re-order at any time.
  * The *Documents in this package* table lists each [#Package_document_configuration document in the package] and the order they will be presented. If you drag a document from the table back to the *Choose documents* tree and drop it anywhere there, the document will be removed from the package and will automatically be returned to the correct library where it came from.
  * The *Parties involved with this package of documents* table lists all [#Package_party_configuration parties defined in the package], as well as the order in which they should process the package of documents. The first party is the "initiator" who starts the transaction and can be a normal user or an [#From_another_web_site_or_web-accessible_application,_email_proce automated API party]. If for any reason your package needs more parties than are defined in the documents, such as adding a party who may need to see the completed documents when done, you can use the *Add View-Only party* button to add a party that will be given 'View only' access to all documents in the package. You can then modify that party as needed.
  * The *Package+disclosure view* drop down list lets you choose the [#Package+disclosure_documents special document] that plays the role of welcoming the parties, showing E-Sign disclosures, as well as the list of documents the party is expected to process. By default, this is the *ESF/Library/Template/StandardPackageDisclosures* document.
  * The *Button message set* drop down list lets you choose the [#Button_message_sets button message set] to use for this package. By default, this is the *Esf/Library/Template/ESF_DefaultButtonMessage* set.

Click the *Make Test version Production* button to move a Test version package to Production. 

If the package is already a Production version, use the *Create next Test version* button to create the next package that you can test until you are ready to make it production. You can also use the *Revert to Test* button to temporarily take the package out of production for a quick fix before you make it production again (do this with caution since a production transaction will get an error, or use the prior production version if one exists, while you are making this update).

Click the *[#Customize_logic Customize logic]* button to add special processing rules to this package of documents.

Click the *[#Map_report_fields Map report fields]* button to define the fields in the documents you have selected that you would like to include in reports or To Do lists for your internal parties.

Click the *Export* button to export the package configuration so it can be imported in another deployment. You will be prompted to save the configuration to your local computer disk.

Click the *[#Package_import_configuration Import version...]* button to import the package configuration previously exported elsewhere so that it overwrites the configuration of the package version. The package version must be a Test version to change it this way. 

Note that after any change to the package, including any changes made in other screens related to the package, you will have to click the *Save* button keep those changes.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Package document configuration ==

Note that you can drag to re-order the documents, or drag it back to the *Choose documents* list of libraries to remove it.

Click on a document from the *Documents in this package* table to configure the parties who will process that document. 

http://open.esignforms.com/images/HowToGuidesWiki/packageDocument.png

Since package parties are defined initially from the parties defined in the various documents, it is possible that the names used in various documents are not consistent. This allows you to specify which package party will play the role for a given document party. Select the package party or parties who will be allowed to play the specified document party.  

Click *Ok* to remember the changes. Click *Cancel* to discard any changes.

_Tip: To save your changes, remember to click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Package party configuration ==

Note that you can drag a party to re-order the processing flow. If after you are done you have parties defined that do not reference any documents, you can remove them using the *Remove X unused package parties* button http://open.esignforms.com/images/HowToGuidesWiki/removeUnusedPackagePartiesButton.png that appears below the list of parties.

Click on a party in the *Parties involved with this package of documents* to configure the package party.

http://open.esignforms.com/images/HowToGuidesWiki/packageParty.png

  * *Package Party EsfName* is the name of the party as used in the package. Remember, package parties initially default to the names they were given in the documents, but the names may not (most likely will not) be consistent across all of the documents, so this allows you to specify the name as it makes sense for this package.
  * *Display name* is the name this party will use whenever it is shown to a user.
  * *Landing page* defines the page the party will see when they first access the package of documents. The default is "Package (disclosures)" which shows the welcome message, E-Sign Disclosures and list of documents to be processed as specifed on the package's "Package+disclosure view". You may also select "First document" to land on the first document in the package that the party is allowed access to. Select "First To Do or First document" to land on the first document the party must work on, or the first document if all documents have been processed; this is used when a party may come back over time to complete the package so they resume on the first document that needs their action. Select "First To Do or Package" to land on the first document the party must work on, or the package document if all documents have been processed.
  * Check *Must be logged in* if this party is supposed to be an internal user. This ensures that step is taken only by authenticated users.
  * Check *Allow delete tran if no signatures* to allow the party to delete the transaction, if no signatures have been applied, from the package document. This is generally used only on the first party since they may start the transaction, and then decide not to continue. If the user does not complete it, or delete it, it will be in that user's To Do queue so they can resume later. If they are external users, the transaction will not progress unless the user comes back with the unique pickup link for it (like if they bookmarked the page or your process sent them an email with the link).
  * For *Select document parties for this package party* select all document+party combinations that apply. You can use the special "View only" party to allow this party to view the document, but otherwise not be able to change it (or sign it).
  * Select a *To Do Party EsfName* if this party actually belongs to a group of users. In a Library, you can define a Party template that is associated with a To Do Group so that anybody who belongs to the group can process the transaction via the To Do work queue. Select that Party name defined in a Library and be sure it has a group associated with. Note that by creating transaction templates with separate branding libraries, it is easy to set up a package where such a party belongs to different groups, such as when running the service for multiple companies or departments.
  * In *Renotify* select the various intervals that you'd like an email re-notification to be sent to the party until the party step is completed (and the transaction is in progress). It is good to be able to remind a user to complete a document, but you don't want to pester them either.
  * Check *Email All To Do Parties* if you've also set a *To Do Party EsfName* if you would like all users who belong to the group associated with the party to receive an email notification.
  * In *Notify email address spec (${EMAIL})* enter an email address or a document and field specification that contains the email address of the person to notify when this party is activated. The value will replace the ${EMAIL} specification used in the Email template.
  * In *Notify Email EsfName* specify the Email template to use to notify this party.
  * In *On completed redirect link/URL spec* you can put in a literal URL or any combination of field and property specifications. If specified, when the party completes all documents in the package, the party will be redirected this URL rather than be shown the completed package page.
  * In *Not completed redirect link/URL spec* you can put in a literal URL or any combination of field and property specifications. If specified, when the party has not yet completed the package of documents, the package will show a "Go back (not completing now)" button that will redirect the user back to this URL to indicate that they have chosen not to complete the package at this time.

Click *Ok* to keep any changes, otherwise click *Cancel*.

_Tip: To save your changes, remember to click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Customize logic ==

It is often necessary to add additional processing logic to fine tune the process flow. You can set up special custom rules based on when in the process flow you want it, whether it's limited to a given set of documents or parties, and then add various actions you'd like to take place then.

Click on the *Customize logic* button on the package version to configure additional logic.

Click on the *Create new custom logic* button http://open.esignforms.com/images/HowToGuidesWiki/createNewCustomLogicButton.png to add new processing logic rule. Or you can click on a previously created rule to update it.

http://open.esignforms.com/images/HowToGuidesWiki/customLogic.png

  * In *When event(s) occur* select at least one type of event that describes when you'd like the associated actions to run. You can choose from:
    * *Party created* occurs when a package party is created.
    * *Party activated* occurs when a package party is first activated to process the package.
    * *Party retrieved document* occurs when a package party retrieves a document.
    * *Party review document* occurs when a package party has filled out the form or is signing and clicks the review button. The party cannot continue to review the completed document if any action produces an error or warning message.
    * *Party completed document* occurs when a package party completes a given document. The party cannot complete the document if any action produces an error or warning message.
    * *Party view completed document* occurs when a package party views a document that has already been completed.
    * *Party completed* occurs when a package party complete all documents in the package that are assigned to him or her.
    * *Party transferred* occurs if a user transfers a given package party to another person through the transaction details page in reports and general transaction search. This occurs when a transaction is started and it turns out there was an error, such as invalid email address, or you find another person actually needs to process it.
    * *Transaction started* occurs when the transaction is first started.
    * *Transaction completed* occurs when the transaction is completed.
    * *Transaction canceled* occurs when the transaction is canceled.
  * In *Limit only to documents (optional)* check any documents if the actions should only fire when the selected event(s) occur, but also only when the specified document is being processed. If you do not select any, then it will not matter which document is involved.
  * In *Limit only to parties (optional)* check any parties if the actions should only fire when the selected event(s) occur, but also only when the specified party is processing the transaction. If you do no select any, then it will not matter which party is involved.
  * In *Actions* you can drag to re-order existing actions or click the *Delete* button to remove it.
  * Click the *Add action* button to add the actions you'd like to occur when the specified event arises, possibly limited based on the documents and parties selected.  
    * Choose *Set field action* to change any field values in your documents. 
    * Choose *Calculate field value* to calculate a value (add, subtract, multiply, divide). 
    * Choose *Calculate monthly payment* to calculate a monthly payment amount based on the loan amount, term in months, and interest rate (APR).
    * Choose *Send email* to send an email. 
    * Choose *Change tran/party status* to cancel the transaction now or in the future, clear a future auto-cancel, skip a party step or skip an entire document. 
    * Choose *Show error/message* to display a message or report an error to the user (mostly used during the *Party review document* and *Party completed page* events).
    * Choose *PayPal direct charge* to specify credit card fields in your document that will be submitted to the PayPal NVP API for a credit card sale.
 
http://open.esignforms.com/images/HowToGuidesWiki/packageAddActionButton.png

Click *Ok* to keep any changes, otherwise click *Cancel*.

Click *Close* to close the custom logic window.

Click *Delete* to delete the selected custom logic rule.

_Tip: To save your changes, remember to click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Conditional actions ===

When you configure an action, you can specify a condition that will be checked before running your action. Conditions can be arbitrarily complex, but in practice few are.  

By default, the initial condition associated with an action is called *AND* and by itself does nothing more than ensure all sub-conditions added to it must all be true to pass the test. You can convert it to an *OR* condition so that only one of the sub-conditions added to it must be true to pass the test. 

Or you can *negate* any condition which basically evaluates to the opposite (also known as *NOT*), so if your condition is true, negating it means it will not pass, but if your condition is false, then negating it means it will pass.

http://open.esignforms.com/images/HowToGuidesWiki/ConditionsOnPackageActions.png

On the left side of the action configuration shows the condition editor.

http://open.esignforms.com/images/HowToGuidesWiki/ConditionsOnPackageActionsNoConditions.png

Initially, when there are no conditions yet set, it prompts you to Right-Click to add a new condition to the default *AND* condition. The top level condition must be an *AND* or *OR* condition. You cannot delete this top level condition, but you can convert the default AND to an OR condition, and you can of course negate whichever you choose.

You may also click and drag a condition to a new location, but you cannot put any condition above or below the top level AND or OR condition. There can only be one top level condition and it must be an AND or an OR condition.

Right-click on *(Right-click to add conditions to AND)* to add new conditions to the top level AND condition:

http://open.esignforms.com/images/HowToGuidesWiki/ConditionsOnPackageActionsList.png

  * Click *Negate condition* to convert the selected condition to do the opposite of what it normally would be, also known as *NOT* the condition.
  * Click *Convert to OR condition* to change a selected AND condition (all conditions added to it must be true) to an OR condition (one condition added to it must be true). When the condition is an OR condition already, this option will let you convert it to an AND condition.
  * Click *Add OR condition* if you need to add a condition that itself is true only if one of the sub-conditions you add to it is true.
  * Click *Add AND condition* if you need to add a condition that itself is true only if all of the sub-conditions you add to it are true.
  * Click *Add COMPARISON check* to a condition with tests if a field equals, starts with, ends with or contains another value.
  * Click *Add ALL FIELDS BLANK check* to add a condition in which all fields you specify must be blank (have no value). If you negate this check, it means "ANY FIELD is NON-BLANK," that is, it's true if any of the list fields has a value. You can just specify a single field to check.
  * Click *Add ANY FIELD BLANK check* to add a condition in which any (at least one) of the fields you specify must be blank. If you negate this check, it means "ALL FIELDS are NON-BLANK," that is, it's true if all of the list of fields have a value. You can just specify a single field to check.
  * Click *Add SOME BUT NOT ALL FIELDS BLANK check* to add a condition in which at least one field is blank and at least one field has a value. To work as expected, you must specify at least two fields.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

==== All blank condition ====

After you have added or changed a condition, just click on the condition to configure it further. 

AND and OR conditions have no specific condition editors, so for these special types of conditions, you just right-click on them to negate them, convert them from one type to the other, delete it (and all of its sub-conditions), or to add further sub-conditions to them.

You can also negate this condition by checking the *Negate condition (NOT)* box. Note this applies to the entire condition, not any given field specification.

Click on the *All blank:* condition to change which fields are checked to be blank. You can specify one or more fields to check. A popup editor will appear.

http://open.esignforms.com/images/HowToGuidesWiki/ConditionsOnPackageActionsAllBlankList.png

Click the *Add field to check if blank* button to specify a new field to check that it's blank (has no value).

http://open.esignforms.com/images/HowToGuidesWiki/ConditionsOnPackageActionsAllBlankForm.png

  * Choose from *In document* the name of the document where the field to check resides.
  * Choose from *Field* the name of the field in the selected document to check.
 
You can specify one or more fields to check. In this case, all specified fields must be blank to pass the test.

If you negate this condition (NOT ALL BLANK), it passes if any of the fields specified has a value (ANY NON-BLANK).

Like always, click *Ok* to save your changes. Click *Cancel* to abandon the change. Click *Close* to close the popup window. Click *Delete* to delete a selected field check.

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package. Once you do, when  you click on the *IF condition* button, your conditions will be updated._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

==== Any blank condition ====

Like the [#All_blank_condition All blank condition], *Any blank* works the same way except that it is true if any of the fields you specify is blank. At least one blank field must be present to be true.

If you negate this condition (NOT ANY BLANK), it passes if all of the fields specified have a value (ALL NON-BLANK).

==== Some but not all fields blank condition ====

Like the [#All_blank_condition All blank condition], *Some but not all blank* works the same way except that it is true if at least one field is blank and at least one field is non-blank (has a value). This condition only makes sense if at least two fields have been specified.

You rarely will negate this condition, but if you do it will be true if all of the fields are blank, or if all of the fields have a value.

==== Comparison condition ====

You can use a comparison condition to check if a field matches another value.

Click on the *Compare:* condition to change which fields are to be compared. Only a single field comparison can be configured. A popup editor will appear.

http://open.esignforms.com/images/HowToGuidesWiki/ConditionsOnPackageActionsComparison.png

You can negate this condition by checking the *Negate condition (NOT)* box.

  * Choose from *In document* the name of the document where the field to check resides.
  * Choose from *Field* the name of the field in the selected document to check.
  * Choose from *Comparator* the type of comparison to perform. Fields that are integers, decimals, money, dates or date+time, you generally want to limit the comparator to the equals, less than and greater than as the others will treat these types as if there were strings.
    * *Equals* will match if  the two string values are the same. 
    * *Starts with* will match if the field starts with a given value. 
    * *Ends with* will match if the field ends with a given value. 
    * *Contains* will match if the field contains the other value anywhere within its value.
    * *Less than* will match if the field's value is less than the other value.
    * *Less than or equals* will match if the field's value is less than or equals the other value.
    * *Greater than* will match if the field's value is greater than the other value.
    * *Greater than or equals* will match if the field's value is greater than or equals the other value.
    * *Same length* will match if the field's value has the same length as the other value.
    * *Shorter than* will match if the field's value is shorter than the length of the other value.
    * *Shorter than or same length* will match if the field's value is shorter than or the same length as the other value.
    * *Longer than* will match if the field's value is longer than the length of the other value.
    * *Longer than or same length* will match if the field's value is longer than or the same length as the other value.
  * Set the *Literal or field spec (${})* to the value to check against the specified field. It can be a simple string literal, or it can contains a field specification like ${DocumentName.FieldName} to compare against another field value.
  * Check the *Case sensitive?* box if you want the comparison to be case sensitive (uppercase and lowercase letters must match exactly). The default (unchecked) allows a match regardless, so "Bob" would be equal to "BOB".
 
If you negate this condition (NOT COMPARISON), it passes if the field does not match the specified value.

Like always, click *Ok* to save your changes. Click *Cancel* to abandon the change. Click *Close* to close the popup window. 

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Set field value action ===

When you need to change (or clear) a value, use the *Set field value* action. Click the *Add field to set* button http://open.esignforms.com/images/HowToGuidesWiki/addFieldToSetButton.png to add a new field to set. Or you can click on a previously created rule to update it.

http://open.esignforms.com/images/HowToGuidesWiki/setFieldValueAction.png

  * For *In document* select the document where the field exists that will be set.
  * For *Set field* select the field in the selected document that will be set.
  * For *New value or field spec to use* enter a literal value (or leave blank to blank out the field) or `${ }` notation to specify the new value for the field.

Click the *Ok* button to keep your changes, or click *Cancel*.

Click the *Close* button to close the set field value actions window.

Click the *Delete* button to delete the selected action.

Note that you can set multiple fields at the same time using this view.

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Calculate field value action ===

When you need to calculate a value (add, subtract, multiple or divide), use the *Calculate field value* action. Click the *Add field to calculate* button http://open.esignforms.com/images/HowToGuidesWiki/addFieldToCalculateButton.png to add a new field to calculate. Or you can click on a previously created rule to update it.

This is only available for Integer, Decimal and Money fields.

http://open.esignforms.com/images/HowToGuidesWiki/calculateFieldValueAction.png

You can think of this as doing the following in code:
`InDocument.SetField = FromDocument.Field OPERATOR FromDocument.Field`

  * For *In document* select the document where the field exists that will be set to the calculated value.
  * For *Set field* select the field in the selected "in document" that will be set by the calculation. This is the field that is changed.
  * For *From document* (left side of operator) select the document where the first field can be found. 
  * For *Field* (left side of operator) select the field in the selected "from document" that will be used in the calculation. This field is not changed.
  * For *Operator* select the operation to be applied to the left and right hand fields. `+` means addition; `-` means subtraction; `*` means multiplication; and `/` means division.
  * For *From document* (right side of operator) select the document where the second field can be found. 
  * For *Field* (right side of operator) select the field in the selected "from document" that will be used in the calculation. This field is not changed.

Click the *Ok* button to keep your changes, or click *Cancel*.

Click the *Close* button to close the calculate field value actions window.

Click the *Delete* button to delete the selected action.

Note that you can calculate multiple fields at the same time using this view. Also, if you have a multi-step calculation, you can set the field to the first party of the calculation, and then in the next calculation reference that field in the left or right side to perform more operations on it.

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Calculate monthly payment action ===

When you need to calculate a monthly payment, use the *Calculate monthly payment* action. Click the *Add payment to calculate* button http://open.esignforms.com/images/HowToGuidesWiki/addPaymentToCalculateButton.png to add a new payment to calculate. Or you can click on a previously created rule to update it.

http://open.esignforms.com/images/HowToGuidesWiki/calculateMonthlyPaymentAction.png

  * For *In document* select the document where the field exists that will be set to the calculated monthly payment value.
  * For *Set monthly payment field* select the "Money" field in the selected "in document" that will be set by the calculation. This is the field that is changed.
  * For *From document* select the document where the amount financed field can be found. 
  * For *Amount financed field* select the "Money" field in the selected "from document" that will be used in the calculation. This field is not changed.
  * For *From document* select the document where the annual interest rate field can be found. 
  * For *Annual interest rate field* select the "Decimal" field in the selected "from document" that will be used in the calculation. This field is not changed.
  * For *From document* select the document where the number of monthly payments field can be found. 
  * For *Number of monthly payments field* select the "Integer" field in the selected "from document" that will be used in the calculation. This field is not changed.

Click the *Ok* button to keep your changes, or click *Cancel*.

Click the *Close* button to close the calculate monthly payment value actions window.

Click the *Delete* button to delete the selected action.

Note that you can calculate multiple monthly payments at the same time using this view.

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Send email action ===

When you need to send an email other than the party activation email (which is set in the [#Package_party_configuration package party view]), use the *Send email* action. Click the *Add email to send* button http://open.esignforms.com/images/HowToGuidesWiki/addEmailToSendButton.png to add a new email to send. Or you can click on a previously created rule to update it.

http://open.esignforms.com/images/HowToGuidesWiki/sendEmailAction.png

  * For *Email template* choose the email template to send.
  * For *For party (${LINK})* select the party whose unique link will be used anywhere `${LINK}` is specified in the selected email template. Note that whoever receives such a link will be able to act as that party.
  * For *Email address spec (${EMAIL})* enter an email address or `${ }` field specification that will resolve to the email address to send to. This will replace the `${EMAIL}` wherever used in the selected email template. If the *For party* above is selected and this email address specification is blank (or set to `${EMAIL}` -- better to leave blank), the system will attempt to use the configured package party's email notification specification.
  * For *Attach document(s)* select one or more documents from the package to send with the email. This will be the document snapshot that exists for the selected document and party. Of course, you can also choose the "Latest" party for a document to send whatever is the latest snapshot of that document at the time the email is being sent.
  * Check *Attach as PDF* to combine the document snapshots into a single PDF file rather than sending them as attached HTML files. If any of the selected documents is configured for 'Landscape' orientation then all documents will be rendered as landscape in the PDF.
  * If *Attach as PDF* is selected, a *PDF file name spec* is shown so you can give the file name of the attached PDF. It's can be a simple file name, such as `Agreement.pdf`, or it may include field specifications and properties for a customized name, such as `Agreement for ${firstName} ${lastName}.pdf`.
  * If your package allows for files to be uploaded and attached to the transaction, an *Attach uploaded file(s)* selection list will appear so you can include any of those files to the email as well.

Click the *Ok* button to keep your changes, or click *Cancel*.

Click the *Close* button to close the send email actions window.

Click the *Delete* button to delete the selected action.

Note that you can send multiple emails at the same time using this view.

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Change tran/party status action ===

When you need to cancel a transaction (now or in the future), skip a document, skip a party step in your workflow, or activate a party step ahead of its normal workflow sequence, use the *Change tran/party status* action. Click the *Add status change* button http://open.esignforms.com/images/HowToGuidesWiki/addStatusChangeButton.png to add a new status change. Or you can click on a previously created rule to update it.

==== Cancel transaction action ====

Change the *Status change type* to 'Cancel transaction':

http://open.esignforms.com/images/HowToGuidesWiki/cancelTransactionAction.png

  * For *Status change type* choose 'Cancel transaction'.
  * For *#* specify the number of *Cancel time* units before the transaction is canceled. This has no meaning for Now or Forever cancel times.
  * For *Cancel time* choose when the transaction should be canceled. If you select Now, the transaction will be canceled when this action takes place. You can specify a future date so it will cancel automatically in the future if it's not completed or the cancel transaction is turned off later.
  * For *Reason spec* provide a reason (it can include field specifications `${ }` for variable substitution) why the transaction is being canceled.

==== Clear cancel transaction action ====

If you set a future date for a transaction to auto-cancel if it has not yet completed, you can clear the auto-cancel requested earlier. This is often done when you want a transaction to auto-cancel if the first party does not complete the documents in a specified amount of time, but if they do complete it, then you want it to go forward normally and no longer need to complete within the original timeframe.

http://open.esignforms.com/images/HowToGuidesWiki/clearCancelTransactionAction.png

  * For *Status change type* choose 'Clear cancel transaction'.
  * For *Reason spec* provide a reason (it can include field specifications `${ }` for variable substitution) why the transaction is no longer going to be canceled.

==== Skip document action ====

Change the *Status change type* to 'Skip document':

http://open.esignforms.com/images/HowToGuidesWiki/skipDocumentAction.png

  * For *Status change type* choose 'Skip document'.
  * For *Reason spec* provide a reason (it can include field specifications `${ }` for variable substitution) why the document is being skipped.
  * For *Documents to skip* select one or more documents to skip.

Click the *Ok* button to keep your changes, or click *Cancel*.

Click the *Close* button to close the transaction/party status change window.

Click the *Delete* button to delete the selected action.

Note that you can do multiple status change actions using this view.

==== Skip party action ====

Change the *Status change type* to 'Skip party':

http://open.esignforms.com/images/HowToGuidesWiki/skipPartyAction.png

  * For *Status change type* choose 'Skip party'.
  * For *Reason spec* provide a reason (it can include field specifications `${ }` for variable substitution) why the party is being skipped.
  * For *Parties to skip* select one or more parties to skip.

Click the *Ok* button to keep your changes, or click *Cancel*.

Click the *Close* button to close the transaction/party status change window.

Click the *Delete* button to delete the selected action.

Note that you can do multiple status change actions using this view.

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package._

==== Activate party action ====

If a party needs to be activated before it normally would be activated in party sequence, you can use this action to activate a party. Generally this is used for "final step" parties who will access the transaction for review purposes only.

Change the *Status change type* to 'Activate party':

http://open.esignforms.com/images/HowToGuidesWiki/activatePartyAction.png

  * For *Status change type* choose 'Activate party'.
  * For *Reason spec* provide a reason (it can include field specifications `${ }` for variable substitution) why the party is being activated (out of the normal party order).
  * For *Parties to skip* select one or more parties to skip.

Click the *Ok* button to keep your changes, or click *Cancel*.

Click the *Close* button to close the transaction/party status change window.

Click the *Delete* button to delete the selected action.

Note that you can do multiple status change actions using this view.

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package._

=== Show error/message action ===

When you need to display a message or report a custom data validation error, the show error/message action can be used. For data validations, you should use this action in a rule that specifies the *Party review document* event. If you report an error or warning on the review step, the user will not be able to complete the document until it is fixed so it no longer matches the condition specified with this action.

http://open.esignforms.com/images/HowToGuidesWiki/showErrorAction.png

  * For *Error/message spec* enter the message or error to show the user. It may contain field specifications (${}).
  * Choose the message type: *Error*, *Warning*, *Success* or *Info*.
  * Check *HTML?* if the error/message is in HTML format already (contains HTML tags). Leave it blank normally.

Click the *Ok* button to keep your changes, or click *Cancel*.

Click the *Close* button to close the send email actions window.

Click the *Delete* button to delete the selected action.

Note that you can show multiple messages at the same time using this view.

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Pay Pal direct charge action ===

When you need to charge a credit card using your PayPal Web Site Pro account, use the *PayPal direct charge* action. Click the *Add PayPal charge* button http://open.esignforms.com/images/HowToGuidesWiki/paypalChargeButton.png to add a new payment to be charged. Or you can click on a previously created rule to update it.

This action depends on you having previously configured a Property Set named *PayPal_NVP_API* with properties for LogNVP, PWD, SIGNATURE, USER and URL that are part of the PayPal NVP API service. There's a corresponding "_TEST" property that is used for test transactions and is generally pointed to the PayPal Sandbox where testing can take place without actually doing a credit card charge. _(When you order this service from PayPal so you can charge cards directly, you will be given a PWD, SIGNATURE and USER to authenticate the API calls and ensure the money is credited to your account.)_

http://open.esignforms.com/images/HowToGuidesWiki/PayPalChargeAction.png

  * For *Customer name spec* enter a fixed value or a field specification of the customer name (like the company name, not the billing name, though it can be the same). This sets the CUSTOM field in the PayPal NVP API. It is optional.
  * For *Purchase description spec* enter a fixed value or a field specification of the item that has been purchased. This sets the DESC field in the PayPal NVP API. It is optional and will default to "Online sale" if not specified.
  * For *Buyer email address spec* enter a fixed value or a field specification of the buyer's email address This sets the EMAIL field in the PayPal NVP API. It is optional.
  * For *Invoice number spec* enter a fixed value or a field specification of your invoice/order number that goes with this sale. This sets the INVNUM field in the PayPal NVP API. It is optional and will default to the transaction id.

For all of the following fields, the user should enter the billing information, not their personal information, so that it matches the names and addresses associated with their credit card. They are required unless noted otherwise.

  * For *In document* and *First name* select the document and field that contains the billing first name.
  * For *In document* and *Last name* select the document and field that contains the billing last name.
  * For *In document* and *Street line 1* select the document and field that contains the billing street address (line 1).
  * For *In document* and *Street line 2* select the document and field that contains the billing street address (line 2). This is optional.
  * For *In document* and *City* select the document and field that contains the billing city.
  * For *In document* and *State/province* select the document and field that contains the billing state or province.
  * For *In document* and *Zip/postal code* select the document and "Zip code" field that contains the billing zip code or postal code.
  * For *In document* and *Country* select the document and field that contains the billing country (2-letter code). It is optional and defaults to "US". You may want to use the standard drop down *ESF_Countries* or a modified version of this list.
  * For *In document* and *Card type* select the document and field that contains the credit card type (Visa, MasterCard, Amex, Discover). It is optional and defaults to a calculated value based on the the card number. A standard drop down named *ESF_PayPal_CardTypes* has these for easy use. Note that American Express requires a separate agreement with PayPal and American Express to offer it.
  * For *In document* and *Card number* select the document and "credit card number" field that contains the credit card number. For PCI compliance, it is recommend that this value be masked on review as well as overwritten on successful payment so that it is not stored.
  * For *In document* and *Expiration date* select the document and "date" field that contains the credit card expiration date in MM/YYYY format. The date formats allow for this type of entry. A party can select any day of the month if using date selector.
  * For *In document* and *Security code* select the document and field that contains the credit card security id (aka CCV or CVV), a 3-4 digit number printed on the card itself (on the front for American Express, and on the back otherwise). It is optional, but may be required to successfully do a charge to prove that the card was present for the online purchase. This field should also be masked on review and must be masked out on successful payment because PCI compliance requires that it not be stored once the payment is done.
  * For *In document* and *Amount to charge* select the document and "money" field that contains the amount to be charged. PayPal has a default max of $10,000 that is allowed.
  * For *On success mask* we recommend you check both the *Card number* and *Security code* since they are not needed after the charge and PCI compliance generally requires it.
  * For *Show on success* enter a message (with field specs if desired) that will be displayed after a successful payment is made.
  * For *Show on failure* enter an error message (with field specs if desired) that will be displayed if there's an error with the charge.

On a successful payment, the PAYPAL_TRANSACTIONID field will be set with the transaction id (not to be confused with the Open eSignForms transaction id related to your completed form) returned. It will be blank on error.

On error (no charge takes place), the PAYPAL_EXCEPTION field will be set with the error returned by PayPal. It will be blank on success.

Additional fields set from the PayPal response include PAYPAL_ACK, PAYPAL_AMT, PAYPAL_AVSCODE and PAYPAL_CVV2MATCH. In addition, two related fields are set with more meaningful values using PAYPAL_AVSCODE_MEANING and PAPAL_CVV2MATCH_MEANING.

Click the *Ok* button to keep your changes, or click *Cancel*.

Click the *Close* button to close the PayPal payment actions window.

Click the *Delete* button to delete the selected action.

Note that you can do multiple charges at the same time using this view.

_Tip: To save your changes, you will want to click the *Ok* button on the custom logic rule as well as click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Map report fields ==

By default, all fields in your documents are fully encrypted and can only be accessed by a given package party in a transaction. However, often you may want some fields to be available for [UserGuide#Reports reports] or shown in the [UserGuide#To_Do To Do queue]. For these reasons, you can map fields from the package to report fields. 

Each time a transaction is saved (updated by a package party), all of the field mappings are applied so that reports will have the latest field values. 

This also lets you map various fields that may be named "SSN", "SocialSecurityNumber", "so_sec_no" or "Tax_ID" to a single report field name so that you can create a report that essentially merges all such fields into a single report field. Use care when mapping such fields so that you map them to a common set of report fields and don't create multiple report fields that really have the same meaning.

Click on the *Report field templates* button http://open.esignforms.com/images/HowToGuidesWiki/reportFieldTemplatesButton.png to list all [#Report_field_templates report field templates] and see where it's used, or to just change the name.

Click the *Map report fields* button on the package version to set up mappings to report fields.

Click on the *Map new report field* button http://open.esignforms.com/images/HowToGuidesWiki/mapNewReportFieldButton.png to add map a new report field. Or you can click on a previously created mapping to update it.

http://open.esignforms.com/images/HowToGuidesWiki/packageMapReportFields.png

You can drag to re-order existing field mappings to control the order they will appear in the To Do listing. Otherwise, the order does not matter.

  * In the *Document* drop down select the document from the package where the field to be mapped resides.
  * In the *Field* drop down select the field in the selected document to map to a report field.
  * In the *Save value as report field* drop down, select an existing report field that applies. If no such report field exists, select the "+Create new report field" option and a new report field of the same name and appropriate type will be created.
  * Check *Show To Do* to have this field appear in the To Do queue for internal users who will process transactions this way.

Click the *Ok* button to keep your changes (you will need to do this if you re-order fields, too). Otherwise click *Cancel* to discard them.

Click *Close* to close the data field mapping window.

Click *Delete* to delete the selected field mapping.

You can also click the *[#Reload_transaction_report_fields Reload tran report fields]* button http://open.esignforms.com/images/HowToGuidesWiki/reloadTranReportFieldsButton.png to reload existing transactions should you have created new mappings after previous transactions were completed. Since report fields are only mapped when a transaction is updated, newly mapped fields won't be available to the reports for older transactions (or in progress transactions until a party next accesses it) unless you manually reload them here.

_Tip: To save your changes, remember to click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

=== Reload transaction report fields ===

To manually reload report fields for existing transactions using the current field mappings, click the *Reload tran report fields* button from the [#Map_report_fields package's map report fields] window.

http://open.esignforms.com/images/HowToGuidesWiki/reloadTranReportFields.png

  * Select which transaction type(s) should be reloaded. Only those transactions you have access to and which use this package are listed.
  * Select *Production* to reload production transactions, or *Test* to reload test transactions.
  * Select the type of date and date range to limit which transactions are reloaded.
  * In *Tran id only reload* enter a single transaction id to reload only that one specific transaction. Otherwise leave it blank.
  * In *Party email* enter the email address of a party to limit the reload to just those transactions. Otherwise leave it blank.
  * Check *In progress* to reload transactions that are in progress.
  * Check *Completed* to reload transactions that are already completed.
  * Check *Canceled* to reload transactions that are canceled.
  * Check *Suspended* to reload transactions that are suspended.

Click the *Reload report fields for matching transactions* button to begin the reload. 

_Note that this process can take a long time based on the number of transactions that will match your selection criteria. (This process includes first finding all matching transactions, then loading each one, decrypting all of its data, parsing its XML structure, and then running the field mapping specifications.) Whenever possible, define all report field mappings before you start transactions, and if you do create new mappings later, attempt to limit the number of transactions that must be reloaded. You only need to reload them if you have reports or To Do transactions that otherwise show a blank field because the mapping was not in place when those transactions were last updated._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Package import configuration ==

When you import a package configuration, all previous documents, parties, etc. are removed from the package and replaced by the imported configuration. 

http://open.esignforms.com/images/HowToGuidesWiki/packageImportConfiguration.png

First, select the default library in your system where documents in the package are already defined. When a document is imported, the system will first look for the document in this library. If it's not found, it will attempt to scan your libraries for a matching document name.

Click the *Upload package version XML* to select the package version XML file on your computer to upload. Review the messages after the import and then close the window to return to the package configuration.

_Tip: To save your changes, remember to click the *Save* button for the package._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>


= Transaction Templates http://open.esignforms.com/images/HowToGuidesWiki/tranTemplateIcon.png =

Transaction templates are used to define a runnable package of documents.

Click on *Programming->Tran templates* to list all transactions templates available to you.

Click on a transaction template to view or configure it. To create a new transaction template, select a template or similar existing transaction template you have permission to access and click the *Create like* button.

http://open.esignforms.com/images/HowToGuidesWiki/transactionTemplate.png

  * Select *Production enabled* if you are ready to run production-level transactions. Your package must be at the production level, and you should also ensure all components used by the package are also at the production level. When you first enable production transactions, please run a "Test Like Production" transaction to see how it works using only production-level components.  Select *Production disabled* to prevent production transactions from starting.
  * Enter a *#* number and *Production retention* value to specify how long to keep production transactions. If you select "Forever" or "Now", the number field will not be necessary. Use of "Now" makes little sense in this context. *_Be very careful when reducing the retention for production transactions because it will update all existing production transactions of this type to use the new value._*
  * Select *Test enabled* if you are ready to run testing-only transactions. You will then be able to run test transactions. Select *Test disabled* to prevent test transactions from starting.
  * Enter a *#* number and *Test retention* value to specify how long to keep test transactions. If you select "Forever" or "Now", the number field will not be necessary. Use of "Now" makes little sense in this context. We recommend shorter retention values for test transactions, such as keeping them for 3 to 6 months. This will update all existing test transactions of this type to use the new retention value.
  * In *PathName* enter the name of this transaction template. It will be displayed under the *[UserGuide#Start_a_transaction Start transaction]* menu item.
  * In *Display name* put a friendly name to display for this transaction type. This name will be used in the menu display under the *Start transaction* option.
  * In *Description* give a brief overview of what this transaction is.
  * In *Package to use* select the package that will be run.
  * In *Branding library to use* select the library to be searched first to resolve components like images/logos, property sets, To Do parties, email templates, etc. If those items are not found in the branding library, it will look in the library where the current  document is defined, and then *ESF/Library/Template* last.
  * In *Comments* enter any information you want to maintain about the transaction.

The transaction template has standard List, View Details, Create Like, Update and Delete permissions under *Permissions to access this transaction template*.

It also has special permissions related to the transactions that are specified under *Permissions for transaction*

  * *Start* permission specifies who can start the transaction. Specify *ESF/Group/ExternalUsers* to allow non-authenticated users to start the transaction, such as from a link on your web site.
  * *Cancel* permission specifies who can cancel a running transaction.
  * *Re-Activate* permission specifies who can re-activate a canceled transaction.
  * *Suspend* permission specifies who can suspend a running transaction.
  * *Resume* permission specifies who can resume a suspended transaction.

On the lower left side are URLs that can be used to start a transaction of this type. The *Production URL* is the base URL used to start a transaction.  The *Test URL* adds the `ESFTEST=Yes` parameter. And the *Test like Production URL* adds the `ESFLIKEPRODUCTION=Yes` parameter to the Test URL.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

= Report Templates http://open.esignforms.com/images/HowToGuidesWiki/reportTemplateIcon.png =

Report templates are used to define a custom report that lists data elements about and from within the package of document specified in a transaction template. You must first [#Map_report_fields map data elements in the package to report fields] to list them in a custom report.

Click on *Programming->Report templates* to list all report templates available to you.

Click on a report template to view or configure it. To create a new report template, select a template or similar existing report template you have permission to access and click the *Create like* button.

http://open.esignforms.com/images/HowToGuidesWiki/reportTemplate.png

  * Click *Enabled* to allow this report to be run. Click *Disabled* to prevent it from running.
  * In *PathName* give this report template a name. The name will appear under *[UserGuide#Reports Reports]* menu item.
  * In *Display name* enter a friendly name for this report. It will be shown in the menu under *Reports*.
  * In *Description* enter a short description of this report.
  * In *Comments* enter any information you want to remember about this report.
  * In *Tran templates* select one or more transaction types to be included this report. Of course, for the report to run as expected, the report fields must make sense across the various transaction types. Any report field that is not mapped by the transaction's package will be blank in the report.

The report template has standard List, View Details, Create Like, Update and Delete permissions under *Permissions to access this report template*.

It also has special permissions related to the reports that are specified under *Permissions for reports*

  * *Run* permission specifies who can run the report. By default, users can only see test transactions they started themselves.
  * *See transactions started by external users* specifies who can also see transactions started by external users.
  * *See transactions started by any other user* specifies who can also see transactions started by any other user.
  * *See Production Transactions as well as Test* specifies who can also see production transactions. By default, only Test transactions can be seen.
  * *Download report data in Excel or CSV format* specifies who can download report data in Excel or CSV formats. 
  * *View transaction email log* specifies who can see email details about a transaction. 
  * *View/download document snapshots* specifies who can see and download document snapshots.
  * *View/download data snapshots* specifies who can see and download data snapshots, which includes the data values stored in documents.
  * *Download complete transaction archives* specifies who can download a complete transaction archive.

Click on the *[#Field_in_report Fields in report]* button http://open.esignforms.com/images/HowToGuidesWiki/fieldsInReportButton.png to configure the report fields that will appear in the custom report.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Fields in report ==

Click the *Fields in report* button on the report template to set up the report fields to include in the custom report.

Click on the *Report field templates* button http://open.esignforms.com/images/HowToGuidesWiki/reportFieldTemplatesButton.png to list all [#Report_field_templates report field templates] and see where it's used, or to just change the name.

Click on the *Add report field* button http://open.esignforms.com/images/HowToGuidesWiki/addReportFieldButton.png to add a new field. to the report. Or you can click on a previously created report field to update it.

http://open.esignforms.com/images/HowToGuidesWiki/fieldsInReport.png

You can drag to re-order existing fields to control the order they will appear in the report.

  * In *Report field* select a user-defined or built-in report field to show in the report. The following are the built-in fields:
    * *esf_cancel_timestamp* is the date/time the transaction was canceled.
    * *esf_created_by_user* is the user who started the transaction, when it's not started by an external user.
    * *esf_expire_timestamp* is the date/time the transaction is set to expire and be deleted from the system (this is set based on the transaction template's retention values).
    * *esf_last_updated_by_user* is the user who last updated the transaction, when it's not last updated by an external user.
    * *esf_last_updated_timestamp* is the date/time the transaction was last updated.
    * *esf_literal* allows you to specify a fixed *Literal value* that will always appear in the column. This is mostly used for CSV integration with other systems where you need to provide a fixed value.
    * *esf_package_name* is the PathName of the package referenced by the transaction.
    * *esf_stall_timestamp* is the date/time the transaction stalled (was in progress, but had no active party), indicating a programming error.
    * *esf_start_timestamp* is the date/time the transaction was started.
    * *esf_status* is the transaction status: In progress, Canceled, Completed, or Suspended.
    * *esf_status_text* is the transaction status description, which is typically the current document and party in the process flow.
    * *esf_transaction_id* is the unique transaction id.
    * *esf_transaction_template_name* is the PathName of the transaction template.
  * In *Column header* specify the label to show in the column header for this field in the report.
  * In *Output format* specify the format to use for the field.
    * For general fields, you can select to show the entire value, or mask the leading or trailing characters and just show up to 4 of the actual characters.
    * For date fields, you can select the format for the date.
    * For date/time fields, you can select the format for the date/time.
    * For user fields, you can select whether to display the name and/or email address of the user.
    * For decimal/money fields, you can specify the format for the number.
    * For integer fields, you can specify the format for the number.
  * Check the *Allow search* box, when available, to allow for searching transactions based on the values held in this report field.

Click the *Ok* button to keep your changes, or click *Cancel*. This applies to changes to the report field specification, but also if you re-order the fields by dragging them to a new position.

Click the *Close* button to close the list of fields in the report window.

Click the *Delete* button to remove the selected report field.

_Tip: To save your changes, you will want to click the *Ok* button on the list of fields window as well as click the *Save* button for the report template._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

== Report field templates ==

Click the *Report field templates* button on the list of fields for a report template, or from the package's *Map report fields* page to modify the report field template name that is otherwise created using the same name as the document field when it is mapped to a new report field.

Report fields are shared across all reports and users so that similar data can be combined from any number of documents and produce a common report.

You cannot rename built-in fields that begin with the 'esf_' prefix.

The type of a report field is initially set based on the type of the document field being mapped. You cannot change the type unless it's a General field type, in which case you can tweak it to be 'Numbers only' (numeric) or 'Letter/numbers only' (alphanumeric). If you have existing data already mapped and you change a General type like this, you'll need to [#Reload_transaction_report_fields reload the transaction data from the package] if you want prior report data to also have the new numbers only or letters/numbers content in your reports.

http://open.esignforms.com/images/HowToGuidesWiki/reportFieldTEmplate.png

  * In *Type* select the type of the field if it is a string type like General, Numbers only, or Letter/Numbers only.
  * In *EsfName* you can change the name of the report field template if it's not a built-in type.
  * In *Label* you can set the default column label for this report field template when it's added to a report.
  * In *Toolip* you can set the default tooltip for this report field template when it's added to a report.

You are also presented with two lists that show:
  * In *Referenced in the following reports* you can see which reports (that you have permission to list) include the selected field.
  * In *Package versions that map fields to this report field* you can see which package versions populate this report field.

Click the *Save* button to keep your changes, or click *Cancel*. 

Click the *Close* button to close the list of report field templates window.

Click the *Delete* button to remove the selected report field template if it's not listed as being in use.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

= Live Transactions =

While a transaction exists, parties can use their unique links (and users can access their work via the [UserGuide#To_Do To Do queue]) to access the package of documents.

If a transaction is canceled or suspended, no access is given to any party.

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>

= Integration Interface (API) =

There are various ways to integrate other applications and web sites with Open eSignForms. They all assume the ability to access HTTPS links to the web site.

Each transaction template shows the "Start URL" which is used to start a new transaction of its type.  There are two standard options you can include on the URL (or as HTTPS POST parameters):

  * `ESFTEST=Yes` means that you want to start a Test transaction. We recommend using this during all integration testing.  If you omit this parameter, it will be assume to be a Production transaction, but you can send it as `ESFTEST=No` to make it explicit.
  * `ESFLIKEPRODUCTION=Yes` is only examined if `ESFTEST=Yes` is also included and controls whether the Test transaction should run using any Test versions found or not. When set to `Yes` it means even though it is a Test transaction, it will only select Production-level versions. We recommend setting this to `Yes` on your final integration tests to ensure it is working as expected using only Production-level versions. If this param is not present, it is assumed to have a `No` value.

== From an email you send out, inline process ==

If you already have an email generating system, or you manually send them out, you can start a new transaction by embedding the transaction template's "Start URL" in the email you send out.  When external users click on your link, it will take them to your Open eSignForms site where they can complete and sign as necessary.

The external user will start the transaction and act as the first party defined for the package of document(s).

Note that the transaction template must allow for "External users" to have "Start" permission on the transaction.

We call this "inline process" because the external user works on the document directly after clicking on the link.

== From your web site, inline process ==

If you already have a web site, you can start a new transaction by embedding the transaction template's "Start URL" in your web site.  When external users click on your link, it will take them to your Open eSignForms site where they can complete and sign as necessary. The link may also be embedded in an IFRAME or FORM, with the FORM allowing you to post some initial data collected from your form or provided by your web site.

The external user will start the transaction and act as the first party defined for the package of document(s).

Note that the transaction template must allow for "External users" to have "Start" permission on the transaction.

We call this "inline process" because the external user works on the document directly after clicking on the link.

== From another web site or web-accessible application, inline process == 

Like above, this processing allows you to start the transaction as a specific user of Open eSignForms rather than an external user. This is often done from other web portals and applications where the user is authenticated in that system, and now you want to tie that user together with the Open eSignForms user. The link may also be embedded in an IFRAME or FORM, with the FORM allowing you to post some initial data collected from your form or provided by your web site.

To do this, you must include the following two additional HTTPS POST params (we do not recommend you ever including username and passwords in the URL as those values will be recorded in web server logs as well as the user's browser cache):

  * `ESFLOGINUSER=useremail@example.com` specifies the user's login email address to authenticate the user who will start the transaction.
  * `ESFLOGINPASSWORD=user+password` specifies the user's login password to authenticate the user who will start the transaction.

You must include both params as the system will not attempt authentication without both. That is, it will be treated just the same as an "external user" starting the transaction.

Note that the transaction template must allow for a group that the user belongs to to have "Start" permission on the transaction. You generally would not allow "external users" to start this type of transaction as the purpose is to run only user-authenticated transactions that are tied to the specified user.

We call this "inline process" because the user works on the document directly after clicking on the link.

== From another web site or web-accessible application, email process (API) == 

Unlike the process above, this is suitable for full-API integration where your other application will start a new transaction without any user interactions. This API uses web-standard HTTPS POST of name-value pairs and will receive a simple text response for easy parsing of success or failure. Generally, the first party is fully processed and then the second party is notified by email for external users (or perhaps via the To Do queue for an internal user) to process the transaction.

Unlike the previous "inline process" versions, no web page is returned because it is assumed that the user is not present to handle the documents immediately.

Add the following additional HTTPS POST params for API-processing:
  * `ESFLOGINUSER=useremail@example.com` specifies the user's login email address to authenticate the user who will start the transaction in API mode.
  * `ESFLOGINPASSWORD=user+password` specifies the user's login password to authenticate the user who will start the transaction in API mode.
  * `ESFAUTOCOMPLETEFIRSTPARTY=Yes` means that the first party, as defined by the required `ESFLOGINUSER` and `ESFLOGINPASSWORD` params, will be completed as a result of this API request, with any second party then notified.

Since no user is actually present, a standard web page response is not returned. Instead of a `text/html` (content/mime type) response, a `text/plain` response is sent as follows:
  * If the request is not even processed due to an error, an HTTP 404 response code is sent to indicate the error.
  * `OK:transaction-id` is returned if the transaction was successfully started and includes the transaction id after the colon.
  * `ERROR:error-mesage` is returned if there was an error in user authentication or other transaction processing error, such as data validation errors. The error message may span more than one line with embedded newlines if more than one error was detected.

We call this "email process" because the next user will only gain access to the transaction after receiving an email containing their unique link. The link the user receives will not be the "Start URL" at all, but will be a pickup-link to retrieve an existing transaction. Of course, if there is no second party, the transaction will complete as expected.

_Note that no document snapshots will exist for the first party since the documents were not, in fact, presented in Review mode. Data snapshots still are done._

<p align="right"><font size="1">[#Table_of_contents Table of contents]</font></p>